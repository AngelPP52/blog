(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{AC11:function(e,n,t){"use strict";t.r(n);var l=t("ahKI"),a=t.n(l),r=t("s8Wh"),c=t("sPhZ"),o=t("Fesk"),m=a.a.memo((e=>{var n=e.demos,t=n["react\u57fa\u7840-demo"].component;return a.a.createElement(a.a.Fragment,null,a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"markdown"},a.a.createElement("h1",{id:"react-\u57fa\u7840"},a.a.createElement(r["AnchorLink"],{to:"#react-\u57fa\u7840","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"react \u57fa\u7840"),a.a.createElement("p",null,"[^\u65e5\u671f]: 2020-07-28 23:54:00"),a.a.createElement("h2",{id:"jsx"},a.a.createElement(r["AnchorLink"],{to:"#jsx","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"JSX"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u4e00\u79cd JS \u548c HTML \u6df7\u5408\u7684\u8bed\u6cd5"),a.a.createElement("li",null,"JSX \u8bed\u6cd5\u7cd6\u4f1a\u901a\u8fc7 babel \u8f6c\u8bd1\u6210",a.a.createElement("code",null,"React.createElement"),"\u8bed\u6cd5"),a.a.createElement("li",null,"JSX \u8868\u8fbe\u5f0f\uff1a","{","}","\uff0c\u4f7f\u7528\u5927\u62ec\u53f7\u6765\u5305\u88f9\u8868\u8fbe\u5f0f"),a.a.createElement("li",null,"JSX \u5c5e\u6027\uff1a\u5bf9\u5e94 HTML \u4e2d\u7684\u5c5e\u6027\uff08class\uff0cfor \u7b49\uff09\uff0c\u4f46\u5199\u6cd5\u4e0a\u5e76\u4e0d\u4e00\u6837"),a.a.createElement("li",null,"JSX \u53ef\u4ee5\u4f5c\u4e3a\u53d8\u91cf\uff0c\u8fd4\u56de\u503c\uff0c\u53c2\u6570\u4f7f\u7528")),a.a.createElement("h2",{id:"react-\u5143\u7d20\u4e0e-reactdom"},a.a.createElement(r["AnchorLink"],{to:"#react-\u5143\u7d20\u4e0e-reactdom","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"React \u5143\u7d20\u4e0e ReactDOM"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"React \u5143\u7d20\u662f React \u5e94\u7528\u7684\u6700\u5c0f\u5355\u4f4d")),a.a.createElement("li",null,a.a.createElement("p",null,"\u901a\u8fc7 ReactDOM \u5c06 React \u5143\u7d20\u6e32\u67d3\u5230\u6d4f\u89c8\u5668\u4e2d"),a.a.createElement(o["a"],{code:"// \u4f7f\u7528React.createElement\nReactDOM.render(React.createElement('h1', 'hello'), document.getElementById('root'));\n// \u4f7f\u7528JSX\nReactDOM.render(<h1>hello</h1>, document.getElementById('root'));",lang:"jsxarguments"})),a.a.createElement("li",null,a.a.createElement("p",null,"ReactDOM \u53ea\u4f1a\u66f4\u65b0\u5fc5\u8981\u7684\u90e8\u5206\uff08\u53d8\u5316\u7684\u90e8\u5206\uff09"))),a.a.createElement("h2",{id:"\u7ec4\u4ef6\u548c-props"},a.a.createElement(r["AnchorLink"],{to:"#\u7ec4\u4ef6\u548c-props","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u7ec4\u4ef6\u548c Props"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u51fd\u6570\u7ec4\u4ef6"),a.a.createElement(o["a"],{code:"import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst root = document.getElementById('root');\n\nfunction Welcome(props) {\n  return <h1>hello, {props.name}</h1>;\n}\n\nReactDOM.render(<Welcome name=\"AngelPP\" />, root);",lang:"jsx"})),a.a.createElement("li",null,a.a.createElement("p",null,"\u7c7b\u7ec4\u4ef6"),a.a.createElement(o["a"],{code:"import React from 'react';\nimport ReactDOM from 'react-dom';\n\nclass Welcome extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return <h1>hello, {this.props.name}</h1>;\n  }\n}\n\nReactDOM.render(<Welcome name=\"AngelPP\" />, root);",lang:"jsx"})),a.a.createElement("li",null,a.a.createElement("p",null,"\u7ec4\u4ef6\u6e32\u67d3"),a.a.createElement("p",null,"ReactDOM.reander")),a.a.createElement("li",null,a.a.createElement("p",null,"\u590d\u5408\u7ec4\u4ef6\u548c\u63d0\u53d6\u7ec4\u4ef6"),a.a.createElement("p",null,"\u5b9a\u4e49\u7236\u5b50\u7ec4\u4ef6...")),a.a.createElement("li",null,a.a.createElement("p",null,"Props \u7684\u53ea\u8bfb\u6027"),a.a.createElement("p",null,"Props \u65e0\u6cd5\u88ab\u4fee\u6539\uff0c\u51fd\u6570\u7ec4\u4ef6\u662f\u4e00\u4e2a",a.a.createElement("code",null,"\u7eaf\u51fd\u6570"))),a.a.createElement("li",null,a.a.createElement("p",null,"Props \u7684\u9ed8\u8ba4\u503c\u548c\u7c7b\u578b\u68c0\u67e5"),a.a.createElement("p",null,"\u9ed8\u8ba4\u503c\uff1astatic \u5c5e\u6027 defaultProps\uff0c\u7c7b\u578b\u68c0\u67e5\uff1astatic \u5c5e\u6027 propTypes"))),a.a.createElement("h2",{id:"babeljs"},a.a.createElement(r["AnchorLink"],{to:"#babeljs","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"BabelJs"),a.a.createElement("p",null,"\u5c06 JSX \u8bed\u6cd5\u8f6c\u6362\u6210 JS \u8bed\u6cd5"),a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u8f6c\u6362\u524d"))),a.a.createElement(c["default"],n["react\u57fa\u7840-demo"].previewerProps,a.a.createElement(t,null)),a.a.createElement("div",{className:"markdown"},a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u8f6c\u6362\u540e")),a.a.createElement(o["a"],{code:"React.createElement(\n  'h1',\n  {\n    id: 'title',\n  },\n  React.createElement('span', null, 'hello'),\n  'world'\n);",lang:"js"}),a.a.createElement("h2",{id:"react-\u7c7b"},a.a.createElement(r["AnchorLink"],{to:"#react-\u7c7b","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"React \u7c7b"),a.a.createElement("p",null,"\u529f\u80fd\u4e00\uff1a\u6839\u636e BabelJs \u7684\u8fd4\u56de\u7ed3\u679c\uff0c\u521b\u5efa\u4e00\u4e2a VDOM"),a.a.createElement("p",null,"\u529f\u80fd\u4e8c\uff1a\u521b\u5efa\u7ec4\u4ef6\u7684 ref \u5c5e\u6027"),a.a.createElement("p",null,"\u529f\u80fd\u4e09\uff1a\u4f7f\u51fd\u6570\u7ec4\u4ef6\u652f\u6301 ref \u5c5e\u6027"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"createElement \u65b9\u6cd5"),a.a.createElement("p",null,"\u8fd4\u56de\u4e00\u4e2a VDOM")),a.a.createElement("li",null,a.a.createElement("p",null,"createRef \u65b9\u6cd5"),a.a.createElement("p",null,"\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61","{","current: null","}")),a.a.createElement("li",null,a.a.createElement("p",null,"forwardRef \u65b9\u6cd5"),a.a.createElement("p",null,"\u4f20\u5165\u4e00\u4e2a\u51fd\u6570\u7ec4\u4ef6\uff0c\u8fd4\u56de\u4e00\u4e2a\u7c7b\u7ec4\u4ef6"))),a.a.createElement(o["a"],{code:"// type\uff1a\u5143\u7d20\u7c7b\u578b\n// config\uff1a\u914d\u7f6e\u5bf9\u8c61\uff08props\uff09\n// children\uff1a\u513f\u5b50\nfunction createElement(type, config, children) {\n  let ref; // ref \u4f5c\u7528\uff1f\n  if (config) {\n    delete config.__source; // ?\n    delete config.__self; // ?\n    ref = config.ref;\n  }\n  let props = { ...config };\n  if (arguments.length > 3) {\n    children = Array.prototype.slice.call(arguments, 2);\n  }\n  props.children = children; // \u4f5c\u7528\uff1f\n  return {\n    type,\n    props,\n    ref,\n  };\n}\n\nfunction createRef() {\n  return { current: null };\n}\n\n// \u4f7f\u51fd\u6570\u7ec4\u4ef6\u5177\u6709 ref \u5c5e\u6027\uff0c\u539f\u7406\u8fd8\u662f\u901a\u8fc7\u8fd4\u56de\u4e00\u4e2a\u7c7b\u7ec4\u4ef6\nfunction forwardRef(functionComponent) {\n  return class extends Component {\n    render() {\n      return functionCoponent(this.props, this.props.ref); // \u901a\u8fc7\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4f20\u9012 ref\n    }\n  };\n}",lang:"js"}),a.a.createElement("h2",{id:"reactdom-\u7c7b"},a.a.createElement(r["AnchorLink"],{to:"#reactdom-\u7c7b","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"ReactDOM \u7c7b"),a.a.createElement("p",null,"\u529f\u80fd\uff1a\u6839\u636e VDOM \u83b7\u53d6\u771f\u5b9e DOM\uff08\u5305\u62ec\u5904\u7406\u5143\u7d20\u5c5e\u6027\uff0c\u7c7b\u7ec4\u4ef6/\u51fd\u6570\u7ec4\u4ef6\uff0c\u5b69\u5b50\u8282\u70b9\u7b49\uff09"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"render \u65b9\u6cd5"),a.a.createElement("p",null,"\u4f20\u5165\u4e00\u4e2a VDOM \u548c\u771f\u5b9e\u7684\u6839 DOM")),a.a.createElement("li",null,a.a.createElement("p",null,"createDOM \u65b9\u6cd5"),a.a.createElement("p",null,"\u4f20\u5165\u4e00\u4e2a VDOM\uff0c\u8fd4\u56de\u4e00\u4e2a\u771f\u5b9e DOM"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u666e\u901a\u8282\u70b9\uff08string\uff0cnumber\uff09",a.a.createElement("ul",null,a.a.createElement("li",null,"document.createTextNode"))),a.a.createElement("li",null,"React \u5143\u7d20\u8282\u70b9\uff0ctype \u662f\u4e00\u4e2a function\uff0c\u51fd\u6570\u8fd4\u56de\u4e86\uff08\u7ed3\u675f\u4e86\uff09",a.a.createElement("ul",null,a.a.createElement("li",null,"\u51fd\u6570\u7ec4\u4ef6 --\x3e mountClassComponent"),a.a.createElement("li",null,"\u7c7b\u7ec4\u4ef6 --\x3e mountFunctionComponent"))),a.a.createElement("li",null,"\u539f\u751f\u5143\u7d20\u8282\u70b9",a.a.createElement("ul",null,a.a.createElement("li",null,"document.createElement"))),a.a.createElement("li",null,"\u66f4\u65b0\u5c5e\u6027 --\x3e updateProps\u3002\u865a\u62df DOM \u5bf9\u8c61\u7684 props \u5c5e\u6027\u6302\u4e86\u5f53\u524d\u8282\u70b9\u7684 dom \u5c5e\u6027\u4ee5\u53ca\u6240\u6709\u5b69\u5b50"),a.a.createElement("li",null,"\u5904\u7406\u5b69\u5b50\u8282\u70b9",a.a.createElement("ul",null,a.a.createElement("li",null,"\u666e\u901a\u5b69\u5b50\u8282\u70b9\uff08string\uff0cnumber\uff09"),a.a.createElement("li",null,"VDOM \u5b69\u5b50\u8282\u70b9\uff0c\u662f\u4e00\u4e2a object --\x3e render"),a.a.createElement("li",null,"[VDOM] \u5b69\u5b50\u8282\u70b9\uff0c\u662f\u4e00\u4e2a\u6570\u7ec4 --\x3e \u904d\u5386 render"),a.a.createElement("li",null,"\u5176\u4ed6\u60c5\u51b5\uff0c\u663e\u793a toString \u7ed3\u679c"))),a.a.createElement("li",null,"\u4f7f ref.current \u6307\u5411\u521b\u5efa\u7684 dom\uff08\u9664\u4e86\u51fd\u6570\u7ec4\u4ef6\u548c\u7c7b\u7ec4\u4ef6\uff0c\u5176\u4ed6\u60c5\u51b5\u90fd\u4f1a\u8fdb\u884c\u8fd9\u6837\u6307\u5411\uff0c\u7236\u8282\u70b9\u53ef\u4ee5\u901a\u8fc7\u8d4b\u503c ref \u8c03\u7528\u8fd9\u4e2a\u8282\u70b9\u7684 dom \u65b9\u6cd5\uff09"))),a.a.createElement("li",null,a.a.createElement("p",null,"mountFunctionComponent \u65b9\u6cd5"),a.a.createElement("p",null,"\u4f20\u5165\u4e00\u4e2a FunctionName \u7684 VDOM\uff0c\u8fd4\u56de\u6700\u7ec8\u771f\u5b9e DOM"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u8fd0\u884c\u51fd\u6570\uff0c\u83b7\u53d6\u6700\u7ec8\u771f\u5b9e VDOM"),a.a.createElement("li",null,"\u8c03\u7528 createDOM\uff0c\u8fd4\u56de\u6700\u7ec8\u771f\u5b9e DOM"))),a.a.createElement("li",null,a.a.createElement("p",null,"mountClassComponent \u65b9\u6cd5"),a.a.createElement("p",null,"\u4f20\u5165\u4e00\u4e2a ClassName \u7684 VDOM\uff0c\u8fd4\u56de\u6700\u7ec8\u771f\u5b9e DOM"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u521b\u5efa\u7c7b\u7ec4\u4ef6\u5b9e\u4f8b"),a.a.createElement("li",null,"\u8c03\u7528\u5b9e\u4f8b\u7684 reander \u65b9\u6cd5\uff0c\u8fd4\u56de\u6700\u7ec8\u771f\u5b9e VDOM"),a.a.createElement("li",null,"\u8c03\u7528 createDOM\uff0c\u8fd4\u56de\u6700\u7ec8\u771f\u5b9e DOM"),a.a.createElement("li",null,"\u4f7f ref.current \u6307\u5411\u8fd9\u4e2a\u5b9e\u4f8b\uff08\u7c7b\u7ec4\u4ef6\u9700\u8981\u8fdb\u884c\u8fd9\u6837\u7684\u6307\u5411\uff0c\u5728\u7236\u8282\u70b9\u5c31\u53ef\u4ee5\u901a\u8fc7\u8d4b\u503c ref \u8c03\u7528\u8fd9\u4e2a\u7c7b\u5b50\u8282\u70b9\u7684\u5b9e\u4f8b\u65b9\u6cd5\u4e86\uff09"),a.a.createElement("li",null,"\u4f7f\u5b9e\u4f8b\u7684 dom \u5c5e\u6027\u6307\u5411\u8fd9\u4e2a\u6700\u7ec8\u771f\u5b9e\u8282\u70b9"))),a.a.createElement("li",null,a.a.createElement("p",null,"reconcileChildren \u65b9\u6cd5"),a.a.createElement("p",null,"\u904d\u5386 reander \u5b69\u5b50\u8282\u70b9")),a.a.createElement("li",null,a.a.createElement("p",null,"updateProps \u65b9\u6cd5"),a.a.createElement("p",null,"\u904d\u5386 props \u7684 key"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"children\uff08TODO\uff09")),a.a.createElement("li",null,a.a.createElement("p",null,"style"),a.a.createElement("p",null,"\u7531\u4e8e\u8ddf\u539f\u751f\u76f4\u63a5\u8d4b\u503c\u7ed9 dom.style")),a.a.createElement("li",null,a.a.createElement("p",null,"on \u4e8b\u4ef6"),a.a.createElement("p",null,"\u8c03\u7528 event/addEvent \u65b9\u6cd5\u521b\u5efa\u76d1\u542c\uff0c\u4f20\u5165\uff08dom\uff0c\u76d1\u542c\u4e8b\u4ef6\u540d\uff0c\u7528\u6237\u5b9a\u4e49\u7684\u51fd\u6570\uff09")),a.a.createElement("li",null,a.a.createElement("p",null,"\u666e\u901a\u5c5e\u6027"),a.a.createElement("p",null,"\u76f4\u63a5\u8d4b\u503c\uff0cdom[key] = props[key]"))))),a.a.createElement(o["a"],{code:"function render(vDOM, pDOM) {\n  let dom = createDOM(vDOM);\n  pDOM.appendChild(dom);\n}\n\n// \u5c06\u4e00\u4e2a\u865a\u62df DOM \u8f6c\u6362\u6210\u771f\u5b9e DOM\nfunction createDOM(vDOM) {\n  // \u6587\u672c\u8282\u70b9\n  if (typeof vDOM === 'string' || typeof vDOM === 'number') {\n    return document.createTextNode(vDOM);\n  }\n  let { ref, props, type } = vDOM;\n  let dom;\n  // \u7ec4\u4ef6\n  if (typeof type === 'function') {\n    return type.isReactComponent ? mountClassComponent(vDOM) : mountFunctionComponent(vDOM);\n  }\n  // \u666e\u901a dom \u5143\u7d20\n  else {\n    dom = document.createElement(type);\n  }\n  // \u66f4\u65b0\u5c5e\u6027\n  updateProps(dom, {}, props);\n  // \u5904\u7406\u5b69\u5b50\n  // \u5b69\u5b50\u662f\u6587\u672c\u8282\u70b9\n  if (typeof props.children === 'string' || typeof props.children === 'number') {\n    dom.textContent = props.children;\n  }\n  // \u5b69\u5b50\u662f vDOM \u5bf9\u8c61\n  else if (typeof props.children === 'object' && props.children.type) {\n    render(props.children, dom);\n  }\n  // \u5b69\u5b50\u662f vDOM \u5bf9\u8c61\u6570\u7ec4\n  else if (Array.isArray(props.children)) {\n    reconcileChildren(props.children, dom); // \u904d\u5386 children \u8c03\u7528 render\n  } else {\n    // \u5176\u4ed6\u60c5\u51b5\u5c31\u5f53\u662f\u6587\u672c\u5904\u7406\n    dom.textContent = props.children ? props.children.toString() : '';\n  }\n}\n\n// \u6302\u8f7d\u7c7b\u7ec4\u4ef6\nfunction mountClassComponent(vDOM) {\n  let { ref, props, type } = vDOM;\n  let classInstance = new type(props);\n  let childVDOM = classInstance.render(props);\n  return createDOM(childVDOM);\n}\n\n// \u6302\u8f7d\u51fd\u6570\u7ec4\u4ef6\nfunction mountFunctionComponent(vDOM) {\n  let { ref, props, type } = vDOM;\n  let childVDOM = type(props);\n  return createDOM(childVDOM);\n}",lang:"js"}),a.a.createElement("h2",{id:"event-\u7c7b"},a.a.createElement(r["AnchorLink"],{to:"#event-\u7c7b","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"Event \u7c7b"),a.a.createElement("p",null,"\u529f\u80fd\u4e00\uff1a\u6dfb\u52a0 DOM \u4e8b\u4ef6\u76d1\u542c"),a.a.createElement("p",null,"\u529f\u80fd\u4e8c\uff1a\u5408\u9002\u7684\u65f6\u673a\uff0c\u89e6\u53d1\u6279\u91cf\u66f4\u65b0\uff08setState\uff09"),a.a.createElement("ul",null,a.a.createElement("li",null,"addEvent \u65b9\u6cd5",a.a.createElement("ul",null,a.a.createElement("li",null,"\u521b\u5efa\u4e00\u4e2a dom.store \u5bf9\u8c61\uff0c\u5b58\u7528\u6237\u5b9a\u4e49\u7684 handle \u51fd\u6570"),a.a.createElement("li",null,"document.addEventListener \u521b\u5efa\u4e00\u4e2a\u76d1\u542c --\x3e dispatchEvent"))),a.a.createElement("li",null,"dispatchEvent \u65b9\u6cd5",a.a.createElement("ul",null,a.a.createElement("li",null,"\u521b\u5efa\u4e00\u4e2a\u5408\u6210\u4e8b\u4ef6\u5bf9\u8c61\uff08\u7528\u6765\u5b58\u539f\u751f event \u5bf9\u8c61\u548c\u5b83\u7684\u5c5e\u6027\uff09"),a.a.createElement("li",null,"\u8fdb\u5165\u6279\u91cf\u66f4\u65b0\u72b6\u6001\uff0cupdateQueue.isBatchingUpdate = true"),a.a.createElement("li",null,"\u8c03\u7528\u7528\u6237\u5b9a\u4e49\u7684 handle \u51fd\u6570"),a.a.createElement("li",null,"\u8fdb\u884c\u6279\u91cf\u66f4\u65b0\uff0cupdateQueue.batchUpdate"),a.a.createElement("li",null,"\u6e05\u7a7a\u5408\u6210\u4e8b\u4ef6\u5bf9\u8c61\u7684\u5c5e\u6027")))),a.a.createElement(o["a"],{code:"import { updateQueue } from './Component';\n\nfunction addEvent(dom, eventType, listener) {\n  let stpre = dom.store || (dome.store = {});\n  store[eventType] = listener; // \u5148\u628a\u7528\u6237\u7684 listener \u6302\u8f7d\u5230 dom \u8eab\u4e0a\n  // addEventListener \u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f useCapture\uff0c\u4e3a false \u65f6\u8868\u793a\u5192\u6ce1\u9636\u6bb5\u6267\u884c\uff0c\u4e3a true \u65f6\u8868\u793a\u6355\u83b7\u9636\u6bb5\u6267\u884c\n  document.addEventListener(eventType.subString(2), dispatchEvent, false);\n}\n\nfunction dispatchEvent(event) {\n  // event \u662f\u539f\u751f\u7684\u4e8b\u4ef6\u5bf9\u8c61\n  let { target, type } = event; // target \u5c31\u662f dom\n  let eventType = `on${type}`;\n  updateQueue.isBatchingUpdate = true;\n  while (target) {\n    // \u624b\u52a8\u5192\u6ce1\n    let { store } = target;\n    let listener = store && store[eventType]; // \u4ece dom \u8eab\u4e0a\u53d6\u4e0b\u7528\u6237\u7684 listener\n    if (listener) {\n      let syntheicEvent = createSyntheticEvent(event);\n      syntheticEvent.mativeEvent = event;\n      listener.call(target, syntheticEvent);\n    }\n    target = target.parentNode;\n  }\n  updateQueue.batchUpdate();\n}\n\n// \u5408\u6210\u4e8b\u4ef6\u5bf9\u8c61\nfunction createSyntheticEvent(nativceEvent) {\n  let syntheticEvent = {};\n  for (let key in nativeEvent) {\n    syntheticEvent[key] = nativeEvent[key];\n  }\n  return syntheticEvent;\n}",lang:"js"}),a.a.createElement("h2",{id:"component-\u7c7b"},a.a.createElement(r["AnchorLink"],{to:"#component-\u7c7b","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"Component \u7c7b"),a.a.createElement("p",null,"\u529f\u80fd\u4e00\uff1a\u521b\u5efa\u4e00\u4e2a\u7c7b\u7ec4\u4ef6\u3002\u6784\u9020\u51fd\u6570\u63a5\u6536\u5916\u9762\u4f20\u6765\u7684 props"),a.a.createElement("p",null,"\u529f\u80fd\u4e8c\uff1a\u7c7b\u7ec4\u4ef6\u7684 setState \u65b9\u6cd5\uff0c\u66f4\u65b0\u7ec4\u4ef6\u72b6\u6001"),a.a.createElement("p",null,"\u529f\u80fd\u4e09\uff1a\u7c7b\u7ec4\u4ef6\u7684\u6279\u91cf\u66f4\u65b0"),a.a.createElement("p",null,"\u529f\u80fd\u56db\uff1a\u7c7b\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u94a9\u5b50"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"Component \u7c7b"),a.a.createElement("ul",null,a.a.createElement("li",null,"setState \u65b9\u6cd5",a.a.createElement("ul",null,a.a.createElement("li",null,"\u6bcf\u4e2a\u7c7b\u7ec4\u4ef6\u5b9e\u4f8b\u90fd\u6709\u4e00\u4e2a$updater \u5bb9\u5668\uff0c\u7528\u6237\u8c03\u7528 setState\uff0c\u90fd\u4f1a\u5f80\u8fd9\u4e2a\u5bb9\u5668\u4e2d\u6dfb\u52a0\u8fd9\u4e2a\u7b49\u5f85 state"))),a.a.createElement("li",null,"forceUpdate \u65b9\u6cd5",a.a.createElement("ul",null,a.a.createElement("li",null,"\u8c03\u7528\u7c7b\u5b9e\u4f8b\u4e0a\u7684 render \u65b9\u6cd5\u83b7\u53d6 VDOM \u548c VDOM \u4e0a\u7684 props"),a.a.createElement("li",null,"\u89e6\u53d1\u751f\u547d\u5468\u671f\u94a9\u5b50 componentWillReceiveProps\uff08\u7ec4\u4ef6\u5c06\u63a5\u6536\u5230 props\uff09"),a.a.createElement("li",null,"\u89e6\u53d1\u751f\u547d\u5468\u671f\u94a9\u5b50 getDerivedStateFromProps\uff08\u7528\u6237\u4f7f\u7528 props \u66f4\u65b0\u4e86 state\uff09"),a.a.createElement("li",null,"\u89e6\u53d1\u751f\u547d\u5468\u671f\u94a9\u5b50 componentWillUpdate\uff08\u7ec4\u4ef6\u5c06\u5f00\u59cb\u66f4\u65b0\uff09"),a.a.createElement("li",null,"\u8c03\u7528 createDOM \u83b7\u53d6\u65b0\u7684\u771f\u5b9e dom\uff0cdom-diff\uff0c\u66f4\u65b0\u6216\u66ff\u6362\u65e7\u7684 dom"))))),a.a.createElement("li",null,a.a.createElement("p",null,"updateQueue \u5bf9\u8c61"),a.a.createElement("ul",null,a.a.createElement("li",null,"isBatchingUpdate \u5c5e\u6027",a.a.createElement("ul",null,a.a.createElement("li",null,"\u63a7\u5236\u8fd9\u4e2a\u7c7b\u7ec4\u4ef6\u7684\u6279\u91cf\u66f4\u65b0\u72b6\u6001"))),a.a.createElement("li",null,"add \u65b9\u6cd5",a.a.createElement("ul",null,a.a.createElement("li",null,"\u6dfb\u52a0\u4e00\u4e2a\u66f4\u65b0\u8005 updater"))),a.a.createElement("li",null,"batchUpdate \u65b9\u6cd5",a.a.createElement("ul",null,a.a.createElement("li",null,"\u904d\u5386\u6240\u6709\u7684 updater \u8fdb\u884c\u6279\u91cf\u66f4\u65b0"))))),a.a.createElement("li",null,a.a.createElement("p",null,"Updater \u7c7b"),a.a.createElement("ul",null,a.a.createElement("li",null,"addState \u65b9\u6cd5",a.a.createElement("ul",null,a.a.createElement("li",null,"\u6dfb\u52a0\u4e00\u4e2a\u7b49\u5f85\u66f4\u65b0 state"),a.a.createElement("li",null,"\u8c03\u7528 emitUpdate \u53d1\u5c04\u4e00\u6b21\u66f4\u65b0"))),a.a.createElement("li",null,"emitUpdate \u65b9\u6cd5",a.a.createElement("ul",null,a.a.createElement("li",null,"\u53d1\u5c04\u4e00\u6b21\u66f4\u65b0"),a.a.createElement("li",null,"\u5982\u679c\u662f\u6279\u91cf\u66f4\u65b0\uff0c\u5219 updateQueue.add \u6dfb\u52a0\u4e00\u4e2a Updater \u5b9e\u4f8b\uff08\u81ea\u5df1\uff09"),a.a.createElement("li",null,"\u5982\u679c\u662f\u666e\u901a\u66f4\u65b0\uff0c\u76f4\u63a5\u8c03 updateComponent \u51c6\u5907\u66f4\u65b0\u7c7b\u7ec4\u4ef6"))),a.a.createElement("li",null,"updateComponent \u65b9\u6cd5",a.a.createElement("ul",null,a.a.createElement("li",null,"\u8c03\u7528 shouldUpdate \u65b9\u6cd5\u51c6\u5907\u66f4\u65b0\u7c7b\u7ec4\u4ef6"))),a.a.createElement("li",null,"getState \u65b9\u6cd5",a.a.createElement("ul",null,a.a.createElement("li",null,"\u4ece\u6240\u6709\u7b49\u5f85 state \u4e2d\u8ba1\u7b97\u51fa\u6700\u65b0\u7684 state\uff0c\u65b0\u65e7 state \u662f\u5408\u5e76\u7684\uff0c\u4e0d\u662f\u66ff\u6362"),a.a.createElement("li",null,"\u8fd4\u56de\u6700\u65b0\u7684 state"))))),a.a.createElement("li",null,a.a.createElement("p",null,"\u200b shouldUpdate \u65b9\u6cd5"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u89e6\u53d1\u751f\u547d\u5468\u671f\u94a9\u5b50 shouldComponentUpdate\uff0c\u5982\u679c\u4e0d\u662f\u8fd4\u56de false\uff0c\u8c03\u7528\u7c7b\u7ec4\u4ef6\u5b9e\u4f8b\u7684 forceUpdate \u76f4\u63a5\u66f4\u65b0")))),a.a.createElement("h2",{id:"\u9ad8\u9636\u7ec4\u4ef6"},a.a.createElement(r["AnchorLink"],{to:"#\u9ad8\u9636\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u9ad8\u9636\u7ec4\u4ef6"),a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u57fa\u4e8e\u9ad8\u9636\u51fd\u6570\uff0c\u4f20\u5165\u4e00\u4e2a\u8001\u7ec4\u4ef6\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7ec4\u4ef6\uff0c\u51fd\u6570\u6216\u7c7b\u7ec4\u4ef6\u90fd\u53ef\u4ee5"),a.a.createElement("p",null,"\u53ef\u4ee5\u901a\u8fc7\u65b0\u7ec4\u4ef6\u7ed9\u8001\u7ec4\u4ef6\u4f20\u9012 props"),a.a.createElement("p",null,"\u5d4c\u5957\u4e0d\u8981\u592a\u6df1\uff08\u5f71\u54cd\u6e32\u67d3\u6027\u80fd\u548c\u53ef\u8bfb\u6027\uff09")),a.a.createElement("p",null,a.a.createElement("strong",null,"render props")),a.a.createElement("ul",null,a.a.createElement("li",null,"render \u5c5e\u6027\uff08\u540d\u5b57\u53ef\u4ee5\u81ea\u5b9a\u4e49\uff09")),a.a.createElement(o["a"],{code:"ReactDOM.render(<App render={(props) => <div>render \u5c5e\u6027</div>}></App>, document.getElementById('root'));",lang:"jsx"}),a.a.createElement("ul",null,a.a.createElement("li",null,"children \u662f\u4e00\u4e2a\u6e32\u67d3\u7684\u65b9\u6cd5")),a.a.createElement(o["a"],{code:"ReactDOM.render(<App>{(props) => <div>children \u662f\u4e00\u4e2a\u6e32\u67d3\u65b9\u6cd5</div>}</App>, document.getElementById('root'));",lang:"jsx"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"HOC"),a.a.createElement("p",null,"\u4f20\u5165\u4e00\u4e2a\u8001\u7ec4\u4ef6\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7ec4\u4ef6"))),a.a.createElement(o["a"],{code:"function withTracker(OldComponent) {\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = { x: 0, y: 0 };\n    }\n    render() {\n      return (\n        <div>\n          <OldComponent {...this.state} />\n        </div>\n      );\n    }\n  };\n}\nfunction show(props) {\n  return (\n    <>\n      <h1>\n        {props.x},{props.y}\n      </h1>\n    </>\n  );\n}",lang:"jsx"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u53cd\u5411\u7ee7\u627f"),a.a.createElement("p",null,"\u65b0\u7ec4\u4ef6\u548c\u8001\u7ec4\u4ef6\u90fd\u662f\u7c7b\u7ec4\u4ef6\uff0c\u4f7f\u65b0\u7ec4\u4ef6\u7ee7\u627f\u8001\u7ec4\u4ef6"),a.a.createElement("ol",null,a.a.createElement("li",null,"\u6e32\u67d3\u52ab\u6301\uff08\u53ef\u4ee5\u5728\u65b0\u7ec4\u4ef6\u91cc\u9762\u4fee\u6539\u8001\u7ec4\u4ef6\uff09"),a.a.createElement("li",null,"\u589e\u5f3a\u529f\u80fd\uff0c\u5982\u64cd\u4f5c state"),a.a.createElement("li",null,"\u6ce8\u610f\uff1a\u5b50\u7c7b\uff08\u65b0\u7ec4\u4ef6\uff09state \u548c props \u4f1a\u8986\u76d6\u7236\u7c7b\uff08\u8001\u7ec4\u4ef6\uff09"),a.a.createElement("li",null,"\u573a\u666f\uff1a\u4f8b\u5982\u5f00\u53d1\u4e00\u7ec4\u76f8\u540c\u5c5e\u6027\u7684 Button")))),a.a.createElement(o["a"],{code:"class Button extends React.Component {\n  render() {\n    return <button />;\n  }\n}\nconst wrapper = (OldComponent) => {\n  return class extends OldComponent {\n    render() {\n      let OldRenderElement = super.render();\n      return React.cloneElement(OldRenderElement, OldRenderElement.props, '1');\n    }\n  };\n};\n// HOC \u7236 componentWillMount \u513f\u5b50 componentWillMount \u513f\u5b50 componentDidMount \u7236\u4eb2 componentDidMount\n//\u53cd\u5411 \u513f\u5b50 componentWillMount \u7236 componentWillMount \u513f\u5b50 componentDidMount \u7236\u4eb2 componentDidMount",lang:"jsx"}),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u53cd\u5411\uff08\u5c5e\u6027\uff09\u4ee3\u7406"),a.a.createElement("p",null,"\u901a\u8fc7\u65b0\u7ec4\u4ef6\u7ed9\u8001\u7ec4\u4ef6\u4f20\u9012 props \u6216\u8005 state"))),a.a.createElement(o["a"],{code:"function loading = message => OldComponent => {\n    return class extends React.Component{\n        render(){\n            const state = {x:0}\n            return (\n                <div>\n                    {message}\n                    <OldComponent {...this.props} {...state}/>\n                </div>\n            )\n        }\n    }\n}\nfunction show(props){\n    return (<div>{props.x}</div>)\n}\nconst LoadingHello = loading('\u6b63\u5728\u52a0\u8f7d')(show); // LoadingHello \u65b0\u7684\u7ec4\u4ef6",lang:"jsx"}))))}));n["default"]=e=>{var n=a.a.useContext(r["context"]),t=n.demos;return a.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),a.a.createElement(m,{demos:t})}},MZF8:function(e,n,t){"use strict";var l=t("ogwx");t.d(n,"a",(function(){return l["b"]}));t("VCU9")}}]);