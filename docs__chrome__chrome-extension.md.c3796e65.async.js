(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"1LRY":function(e,n,t){e.exports=t.p+"static/devtools-page.345ae083.png"},"4zze":function(e,n,t){e.exports=t.p+"static/devtools-panel-sidebar.fbaf1035.png"},CMJo:function(e,n,t){e.exports=t.p+"static/exexecuteScript-error.4910ba56.png"},K6Iq:function(e,n,t){e.exports=t.p+"static/debug-backgound.032fca53.png"},TE3f:function(e,n,t){e.exports=t.p+"static/open-chrome-extensions.d5c12afa.png"},UoiL:function(e,n,t){e.exports=t.p+"static/debug-conten-script.a380ee9c.png"},VgMO:function(e,n,t){"use strict";t.r(n);var l=t("ahKI"),a=t.n(l),c=t("s8Wh"),r=t("Fesk"),o=a.a.memo((e=>{e.demos;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"markdown"},a.a.createElement("h1",{id:"\u80cc\u666f"},a.a.createElement(c["AnchorLink"],{to:"#\u80cc\u666f","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u80cc\u666f"),a.a.createElement("p",null,"\u6700\u8fd1\u56e2\u961f\u5728\u5efa\u8bbe\u53ef\u89c6\u5316\u57cb\u70b9\u5e73\u53f0\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528 Chrome \u63d2\u4ef6\u7684\u6280\u672f\u5b9e\u73b0\u70b9\u9009\u9875\u9762\u5143\u7d20\u7684\u529f\u80fd\uff0c\u4e8e\u662f\u5f00\u59cb\u63a2\u7d22 Chrome \u63d2\u4ef6\u5f00\u53d1\u7684\u76f8\u5173\u6280\u672f\u3002"),a.a.createElement("p",null,"\u53e6\u4e00\u65b9\u9762\uff0c\u4e3a\u4e86\u8865\u5168\u524d\u7aef\u6280\u80fd\u6811\uff0c\u5b66\u4e60\u5f00\u53d1 Chrome \u63d2\u4ef6\u662f\u5176\u4e2d\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u5206\u652f\u3002"),a.a.createElement("p",null,"\u6b64\u6587\u4f1a\u603b\u7ed3\u5e38\u7528 API \u7684\u7528\u6cd5\uff0c\u5e76\u4e14\u4f7f\u7528\u4f8b\u5b50\u6765\u5e2e\u52a9\u8bb2\u8ff0\u5982\u4f55\u5e2e\u52a9\u5927\u5bb6\u5feb\u901f\u5f00\u59cb Chrome \u63d2\u4ef6\u5f00\u53d1\u3002"),a.a.createElement("h1",{id:"\u524d\u8a00"},a.a.createElement(c["AnchorLink"],{to:"#\u524d\u8a00","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u524d\u8a00"),a.a.createElement("h2",{id:"chrome-\u63d2\u4ef6\u662f\u5565"},a.a.createElement(c["AnchorLink"],{to:"#chrome-\u63d2\u4ef6\u662f\u5565","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"Chrome \u63d2\u4ef6\u662f\u5565\uff1f"),a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u5b98\u7f51\u89e3\u91ca\uff1a"),a.a.createElement("p",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/mv2/overview/"},"What are extensions"))),a.a.createElement("p",null,"Chrome \u63d2\u4ef6\u57fa\u4e8e Web \u6280\u672f\uff0c\u53ea\u8981\u61c2 ",a.a.createElement("code",null,"JS/CSS/HTML")," \u5373\u53ef\u5f00\u59cb\u5f00\u53d1\u3002"),a.a.createElement("p",null,"Chrome \u63d2\u4ef6\u5728\u5355\u72ec\u7684\u6c99\u76d2\u6267\u884c\u73af\u5883\u4e2d\u8fd0\u884c\uff0c\u53ef\u4ee5\u76f4\u63a5\u4e0e Chrome \u6d4f\u89c8\u5668\u8fdb\u884c\u4ea4\u4e92\uff0c\u4f8b\u5982\uff1a\u4fee\u6539\u7f51\u7edc\u8bf7\u6c42\u3001\u64cd\u4f5c\u9009\u9879\u5361\u3001\u8bfb\u53d6 Cookies \u7b49\u7b49\u3002"),a.a.createElement("p",null,"\u901a\u8fc7\u4f7f\u7528 Chrome \u63d2\u4ef6\u6280\u672f\u5b9a\u5236\u7528\u6237\u9700\u8981\u7684\u529f\u80fd\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u63d0\u9ad8\u751f\u4ea7\u529b\u7684\u5de5\u5177"),a.a.createElement("li",null,"\u4e30\u5bcc\u7f51\u9875\u7684\u529f\u80fd"),a.a.createElement("li",null,"\u4fe1\u606f/\u63a5\u53e3\u805a\u5408"),a.a.createElement("li",null,"\u6e38\u620f\u5f00\u53d1")),a.a.createElement("p",null,"\u5b98\u7f51\u63a8\u8350\u7684\u4e24\u4e2a\u94fe\u63a5\uff0c\u5173\u4e8e\u521d\u6b65\u8ba4\u8bc6 Chrome \u63d2\u4ef6\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://github.com/GoogleChrome/chrome-extensions-samples"},"\u63d2\u4ef6 Demo")),a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/"},"\u63d2\u4ef6 API"))),a.a.createElement("p",null,"\u5230 ",a.a.createElement(c["AnchorLink"],{to:"#%E5%BC%80%E5%8F%91%E4%B8%8E%E8%B0%83%E8%AF%95"},"\u5f00\u53d1\u4e0e\u8c03\u8bd5")," \u90e8\u5206\u5c06\u4f1a\u4ecb\u7ecd\u5b8c\u6574\u63d2\u4ef6\u5f00\u53d1\u548c\u8c03\u8bd5\u7684\u6d41\u7a0b\u3002"),a.a.createElement("h1",{id:"\u6b63\u6587"},a.a.createElement(c["AnchorLink"],{to:"#\u6b63\u6587","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u6b63\u6587"),a.a.createElement("h2",{id:"chrome-\u63d2\u4ef6\u7684\u5173\u952e"},a.a.createElement(c["AnchorLink"],{to:"#chrome-\u63d2\u4ef6\u7684\u5173\u952e","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"Chrome \u63d2\u4ef6\u7684\u5173\u952e"),a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u5b98\u7f51\u94fe\u63a5\uff1a"),a.a.createElement("p",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/mv2/manifest/"},"Manifest file format"))),a.a.createElement("h3",{id:"manifestjson"},a.a.createElement(c["AnchorLink"],{to:"#manifestjson","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"manifest.json"),a.a.createElement("p",null,a.a.createElement("code",null,"manifest.json")," \u6587\u4ef6\u662f Chrome \u63d2\u4ef6\u7684\u5173\u952e\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u5f88\u591a\u91cd\u8981\u7684\u4fe1\u606f\uff0c\u4ee5\u4e0b\u662f ",a.a.createElement("code",null,"Manifest V2")," \u7684\u5185\u5bb9\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u3002"),a.a.createElement(r["a"],{code:'{\n  // \u5fc5\u9700\u5b57\u6bb5\n  "manifest_version": 3, //  \u6307\u5b9a manifest \u5b57\u6bb5\u7684 Version 2 \u6216\u8005 Version 3\u3002\n  "name": "My Extension",  // \u63d2\u4ef6\u540d\u3002\n  "version": "versionString", // \u63d2\u4ef6\u7684\u7248\u672c\u53f7\u3002\n\n  // \u5e38\u7528\u5b57\u6bb5 \n  // Manifest V3\n  "action": {...},  // \u5de5\u5177\u680f\u56fe\u6807\uff0c\u5bf9\u5e94 API\uff1achrome.action\u3002\n  // Manifest V2\n  "browser_action": { \u2026 }, // \u5de5\u5177\u680f\u56fe\u6807\uff0c\u5bf9\u5e94 API\uff1achrome.browserAction\u3002\n  "page_action": { \u2026 }, // \u5de5\u5177\u680f\u56fe\u6807\uff0c\u5bf9\u5e94 API\uff1achrome.pageAction\u3002\n  "default_locale": "en", // \n  "description": "A plain text description", // \u63d2\u4ef6\u63cf\u8ff0\uff0c\u5728\u6d4f\u89c8\u5668\u6269\u5c55\u9875\u9762\uff08chrome://extensions/\uff09\u80fd\u770b\u5230\u3002\n  "icons": {...}, // \u63d2\u4ef6\u7ba1\u7406\u9875\u9762\u3001\u6743\u9650\u8b66\u544a\u548c favicon\uff0c\u652f\u6301 128*128\uff0c48*48\uff0c16*16 \u7684\u5206\u8fa8\u7387\u3002\n\n  // \u53ef\u9009\u5b57\u6bb5\n  "background": { // \u4f7f\u7528 service_worker \u7684\u540e\u53f0\u5de5\u4f5c\u7ebf\u7a0b\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u76d1\u542c\u6d4f\u89c8\u5668\u4e8b\u4ef6\uff1a\u5bfc\u822a\u5230\u65b0\u9875\u9762\u3001\u79fb\u9664\u4e66\u7b7e\u3001\u5173\u95ed\u9009\u9879\u5361\u7b49\u3002\n    // Required\n    "service_worker":\n  },\n  \n  "content_scripts": [{...}], // \u8fd0\u884c\u4e8e\u7f51\u9875\u4e0a\u4e0b\u6587\u7684\u811a\u672c\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u8c03\u7528 DOM API\uff0c\u64cd\u4f5c\u9875\u9762\u7684\u53d8\u5316\u7b49\u3002\n  \n  "devtools_page": "devtools.html", // \u53ef\u4ee5\u4e3a chrome devtools \u6dfb\u52a0\u529f\u80fd\n\n  "event_rules": [{...}], // \u914d\u7f6e\u4e00\u4e9b\u89c4\u5219\uff0c\u6839\u636e\u9875\u9762\u5185\u5bb9/\u884c\u4e3a\u91c7\u53d6\u4e0d\u540c\u884c\u4e3a\n\n  "minimum_chrome_version": "versionString", // \u652f\u6301\u6700\u5c0f\u7684\u7248\u672c\n\n  "optional_permissions": ["tabs"],\n  "options_page": "options.html", // \u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u9009\u9879\u9875\u9762\uff0c\u81ea\u5b9a\u4e49\u63d2\u4ef6\u7684\u884c\u4e3a\uff0c\u6253\u5f00\u7684\u662f\u4e00\u4e2a\u65b0\u7684\u9875\u9762\n  "options_ui": { // \u540c options_page\uff0c\u6253\u5f00\u7684\u662f\u4e00\u4e2a\u5f39\u51fa\u5f0f\u9875\u9762\n    "chrome_style": true,\n    "page": "options.html"\n  },\n    \n  "permissions": ["tabs"], // \u9700\u8981\u5411\u6d4f\u89c8\u5668\u7533\u8bf7\u7684\u6743\u9650\n  \n  "update_url": "http://path/to/updateInfo.xml", // \u63d2\u4ef6\u81ea\u52a8\u66f4\u65b0\u7b56\u7565\n\n  "web_accessible_resources": [...] // \u914d\u7f6e\u7f51\u7edc\u8d44\u6e90\n}',lang:"json"}),a.a.createElement("h2",{id:"\u4e3b\u8981\u5b57\u6bb5\u4ecb\u7ecd"},a.a.createElement(c["AnchorLink"],{to:"#\u4e3b\u8981\u5b57\u6bb5\u4ecb\u7ecd","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u4e3b\u8981\u5b57\u6bb5\u4ecb\u7ecd"),a.a.createElement("h3",{id:"actionpage_actionbrowser_action"},a.a.createElement(c["AnchorLink"],{to:"#actionpage_actionbrowser_action","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"action\u3001page_action\u3001browser_action"),a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u5b98\u7f51\u94fe\u63a5\uff1a"),a.a.createElement("p",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/action/"},"action")),a.a.createElement("p",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/pageAction/"},"page_action")),a.a.createElement("p",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/browserAction/"},"brower_action"))),a.a.createElement("p",null,"\u914d\u7f6e\u5de5\u5177\u680f\u5904\u63d2\u4ef6\u56fe\u6807\u7684\u5c5e\u6027\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"default_icon")," \u56fe\u6807\u56fe\u50cf"),a.a.createElement("li",null,a.a.createElement("code",null,"default_popup")," \u64cd\u4f5c\u9875\u9762"),a.a.createElement("li",null,a.a.createElement("code",null,"default_title")," \u9f20\u6807\u60ac\u6d6e\u65f6\u7684\u63d0\u793a")),a.a.createElement(r["a"],{code:'// Manifest V2\n// manifest.json\n{\n  "browser_action": { \u2026 },\n  "page_action": { \u2026 }\n}\n// background.js\nchrome.browserAction.onClicked.addListener(tab => { \u2026 });\nchrome.pageAction.onClicked.addListener(tab => { \u2026 });\n\n// Manifest V3\n// manifest.json\n{\n  "action": { \u2026 }\n}\n// background.js\nchrome.action.onClicked.addListener(tab => { \u2026 });',lang:"js"}),a.a.createElement("p",null,"\u901a\u8fc7\u5bf9\u5e94\u7684 ",a.a.createElement("code",null,"API"),"\uff0c\u52a8\u6001\u8bbe\u7f6e/\u83b7\u53d6 ",a.a.createElement("code",null,"Icon"),"\u3001",a.a.createElement("code",null,"Title"),"\u3001",a.a.createElement("code",null,"Popup"),"\uff0c\u81ea\u5b9a\u4e49\u89e6\u53d1 ",a.a.createElement("code",null,"Popup")," \u7684\u5c55\u793a\u548c\u9690\u85cf\u3002"),a.a.createElement("p",null,"\u7528\u6cd5\uff1a",a.a.createElement("code",null,"chrome.browserAction.*")),a.a.createElement("h3",{id:"background"},a.a.createElement(c["AnchorLink"],{to:"#background","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"background"),a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u5b98\u7f51\u94fe\u63a5\uff1a"),a.a.createElement("p",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/mv2/background_pages/"},"background"))),a.a.createElement("p",null,"background \u53ef\u4ee5\u7406\u89e3\u4f5c\u4e3a\u4e3a\u63d2\u4ef6\u7684 \u540e\u53f0\uff08\u540e\u53f0\u8fd0\u884c\u7a0b\u5e8f\uff0c\u6216\u540e\u53f0\u7ba1\u7406\u9875\u9762\uff09\uff0c\u662f\u751f\u547d\u5468\u671f\u6700\u957f\u7684\u8fd0\u884c\u7a0b\u5e8f\u3002"),a.a.createElement("p",null,"\u914d\u7f6e ",a.a.createElement("code",null,"persistent: false"),"\uff0c\u4f7f\u540e\u53f0\u53ef\u4ee5\u5728\u9700\u8981\u65f6\u88ab\u52a0\u8f7d\uff0c\u7a7a\u95f2\u65f6\u88ab\u5378\u8f7d\u3002\u5982\u7b2c\u4e00\u6b21\u5b89\u88c5\u3001\u63d2\u4ef6\u66f4\u65b0\u3001\u540e\u53f0\u76d1\u542c\u7684\u4e8b\u4ef6\u88ab\u89e6\u53d1\u65f6\u3001",a.a.createElement("code",null,"content script")," \u5411\u5b83\u53d1\u9001\u6d88\u606f\u3001\u5728 ",a.a.createElement("code",null,"Popup")," \u4e2d\u8c03\u7528 ",a.a.createElement("code",null,"runtime.getBackgroundPage")),a.a.createElement("p",null,"\u53ef\u4ee5\u901a\u8fc7 ",a.a.createElement("code",null,"chrome-extension://xxx/background.html "),"\u76f4\u63a5\u6253\u5f00\u540e\u53f0\u9875\uff0c\u5e76\u4e14\u8c03\u8bd5\u5b83\u7684\u4ee3\u7801\u3002"),a.a.createElement("p",null,"\u901a\u8fc7\u5728 ",a.a.createElement("code",null,"manifest.json")," \u914d\u7f6e ",a.a.createElement("code",null,"background")," \u5b57\u6bb5\uff0c\u914d\u7f6e\u540e\u53f0\u8fd0\u884c\u7a0b\u5e8f\u3002"),a.a.createElement(r["a"],{code:'// \u76f4\u63a5\u914d\u7f6e scripts\n{  \n  "background": {\n    "scripts": ["background.js"], // \u6570\u7ec4\n    "persistent": false\n  },\n}\n\n// \u914d\u7f6e\u4e00\u4e2a page\uff0c\u901a\u8fc7 script \u6807\u7b7e\u52a0\u8f7d\u6240\u9700\u811a\u672c\uff1abackground.js\n{  \n  "background": {\n      "page": "background.html"\n    },\n}',lang:"json"}),a.a.createElement("p",null,"\u5728\u540e\u53f0\u7a0b\u5e8f\u4e2d\u6dfb\u52a0\u76d1\u542c\u3002"),a.a.createElement(r["a"],{code:"chrome.runtime.onInstalled.addListener(function(){})\n// This will run when a bookmark is created.\nchrome.bookmarks.onCreated.addListener(function() {});",lang:"js"}),a.a.createElement("p",null,a.a.createElement("strong",null,"\u6240\u6709\u7684\u76d1\u542c\u4e8b\u4ef6\uff0c\u8bf7\u5728\u540c\u6b65\u4ee3\u7801\u4e2d\u6ce8\u518c\uff0c\u5982\u679c\u5728\u5f02\u6b65\u4ee3\u7801\u4e2d\u5199\u7684\u6ce8\u518c\u5c06\u4e0d\u4f1a\u751f\u6548\u3002")),a.a.createElement(r["a"],{code:"chrome.runtime.onInstalled.addListener(function() {\n  // ERROR! Events must be registered synchronously from the start of\n  // the page.\n  chrome.bookmarks.onCreated.addListener(function() {\n    // do something\n  });\n});",lang:"js"}),a.a.createElement("p",null,"\u6709\u4e9b\u573a\u666f\u4e0b\uff0c\u7528\u6237\u5e76\u4e0d\u5e0c\u671b\u5bf9\u6240\u6709\u7684\u9009\u9879\u5361\u76d1\u542c\uff0c\u6240\u4ee5\u63d2\u4ef6\u5141\u8bb8\u7528\u6237\u8fc7\u6ee4\u76d1\u542c\u4e8b\u4ef6\u3002"),a.a.createElement(r["a"],{code:"chrome.webNavigation.onCompleted.addListener(function() {\n    alert(\"This is my favorite website!\");\n}, {url: [{urlMatches : 'https://www.google.com/'}]});",lang:"js"}),a.a.createElement("p",null,"\u901a\u8fc7\u76d1\u542c ",a.a.createElement("code",null,"onSuspend")," \u4e8b\u4ef6\uff0c\u9632\u6b62\u540e\u53f0\u7a0b\u5e8f\u5378\u8f7d\u540e\uff0c\u9020\u6210\u6570\u636e\u4e22\u5931\uff0c\u6216\u8005\u5728\u5378\u8f7d\u524d\u505a\u4e00\u4e9b\u6e05\u7406\u5de5\u4f5c\uff0c\u5982\u6ce8\u9500\u957f\u8fde\u63a5\u7684\u7aef\u53e3\u3002"),a.a.createElement(r["a"],{code:'chrome.runtime.onSuspend.addListener(function() {\n  console.log("Unloading.");\n  chrome.browserAction.setBadgeText({text: ""});\n});',lang:"js"}),a.a.createElement("h3",{id:"content_scripts"},a.a.createElement(c["AnchorLink"],{to:"#content_scripts","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"content_scripts"),a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u5b98\u7f51\u94fe\u63a5\uff1a"),a.a.createElement("p",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/mv2/content_scripts/"},"content scripts"))),a.a.createElement("p",null,"\u5728\u5f53\u524d\u9875\u9762\u4e0a\u4e0b\u6587\u8fd0\u884c\u7684\u811a\u672c\uff0c\u53ef\u4ee5\u76f4\u63a5\u64cd\u4f5c DOM \u5bf9\u8c61\uff0c\u800c\u4e0d\u4f1a\u4e0e\u9875\u9762\u811a\u672c\u53d1\u751f\u51b2\u7a81\u3002"),a.a.createElement("p",null,"content_scripts \u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u7684 Chrome API\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/i18n/"},"i18n")),a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/storage/"},"storage")),a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/runtime/"},"runtime:"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/runtime#method-connect"},"connect"),"\u3001",a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/runtime#method-getManifest"},"getManifest"),"\u3001",a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/runtime#method-getURL"},"getURL"),"\u3001",a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/runtime#property-id"},"id"),"\u3001",a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/runtime#event-onConnect"},"onConnect"),"\u3001",a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/runtime#event-onMessage"},"onMessage"),"\u3001",a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/runtime#method-sendMessage"},"sendMessage"))))),a.a.createElement("p",null,"\u5176\u4ed6\u7684 API \u90fd\u65e0\u6cd5\u76f4\u63a5\u8c03\u7528\uff0c\u9700\u8981\u901a\u8fc7 ",a.a.createElement("strong",null,"\u6d88\u606f\u901a\u4fe1")," \u7684\u53d1\u65b9\u5f0f\uff0c\u8ba9\u63d2\u4ef6\u7a0b\u5e8f\u628a\u7ed3\u679c\u901a\u8fc7\u6d88\u606f\u7684\u65b9\u5f0f\u8fd4\u56de\u3002"),a.a.createElement("h4",{id:"\u9759\u6001\u6ce8\u5165"},a.a.createElement(c["AnchorLink"],{to:"#\u9759\u6001\u6ce8\u5165","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u9759\u6001\u6ce8\u5165"),a.a.createElement("p",null,"\u9759\u6001\u6ce8\u5165\u6307\uff0c\u4f7f\u7528 manifest.json \u914d\u7f6e\u6587\u4ef6\u5b57\u6bb5\u7684\u65b9\u5f0f\u5b9a\u4e49\u7684 content scripts\u3002"),a.a.createElement(r["a"],{code:'{\n    "content_scripts": [\n    {\n      "js": [\n        "/js/vapi.js",\n        "/js/vapi-client.js",\n        "/js/contentscript.js"\n      ],\n       "matches": [\n        "http://*/*",\n        "https://*/*"\n      ],\n      "run_at": "document_start"\n    }\n  ],\n}',lang:"json"}),a.a.createElement("p",null,"\u81ea\u5b9a\u4e49\u5b57\u6bb5\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"matches"),": \u5fc5\u9009\uff0c\u6307\u5b9a\u54ea\u4e9b\u9875\u9762\uff08URL\uff09\u624d\u53ef\u4ee5\u6ce8\u5165\u6b64\u811a\u672c\u3002\u7c7b\u4f3c\u7684\u8fd8\u6709 ",a.a.createElement("code",null,"exclude_matches"),"\u3002")),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"css"),": \u53ef\u9009\uff0c\u6ce8\u5165 css \u6837\u5f0f\u6587\u4ef6\u3002")),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"js"),": \u53ef\u9009\uff0c\u6ce8\u5165 js \u811a\u672c\u6587\u4ef6\u3002")),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"run_at"),": \u53ef\u9009\uff0c\u6307\u5b9a\u5185\u5bb9\u811a\u672c\u52a0\u8f7d\u7684\u65f6\u673a\u3002\u53ef\u4ee5\u6307\u5b9a\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"document_idle"),"\uff0c\u9ed8\u8ba4\u503c\u3002\u8868\u793a\u5728 ",a.a.createElement("code",null,"document_end")," \u4e0e ",a.a.createElement("code",null,"window.onload")," \u4e8b\u4ef6\u540e \u4e4b\u95f4\u3002\u5728 ",a.a.createElement("code",null,"document_idle")," \u8fd0\u884c\u7684\u811a\u672c\u4e2d\u76d1\u542c\u7684 ",a.a.createElement("code",null,"window.onload")," \u5c06\u4e0d\u4f1a\u751f\u6548\u3002"),a.a.createElement("li",null,a.a.createElement("code",null,"document_start"),"\uff0c\u8868\u793a\u5728 CSS \u89e3\u6790\u540e\uff0cDOM \u6784\u5efa\u548c Script \u6267\u884c\u524d\u3002"),a.a.createElement("li",null,a.a.createElement("code",null,"document_end"),"\uff0c\u8868\u793a\u5728 DOM \u6784\u5efa\u5b8c\u6210\u540e\uff0cimg\u3001frame \u52a0\u8f7d\u524d\u3002"))),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"all_frames"),": \u53ef\u9009\u3002"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"true")," \u8868\u793a\u5185\u5bb9\u811a\u672c\u4f1a\u88ab\u6ce8\u5165\u5230\u5f53\u524d\u9009\u9879\u5361\u7684\u6240\u6709 frames\uff08\u540c\u65f6\u9700\u8981\u6ee1\u8db3 URL \u8981\u6c42\uff09\u3002"),a.a.createElement("li",null,a.a.createElement("code",null,"false")," \u5219\u53ea\u4f1a\u6ce8\u5165\u5230\u9876\u5c42 frame\u3002")))),a.a.createElement("h4",{id:"\u52a8\u6001\u6ce8\u5165"},a.a.createElement(c["AnchorLink"],{to:"#\u52a8\u6001\u6ce8\u5165","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u52a8\u6001\u6ce8\u5165"),a.a.createElement("p",null,"\u5728\u52a8\u6001\u6ce8\u5165 ",a.a.createElement("code",null,"content-script")," \u524d\uff0c\u9700\u8981\u5728 ",a.a.createElement("code",null,"manifast.json")," \u4e2d\u6dfb\u52a0 ",a.a.createElement("code",null,"activeTab")," \u6743\u9650\uff0c\u4f7f\u5185\u5bb9\u811a\u672c\u80fd\u591f\u5728\u5f53\u524d\u6d3b\u52a8\u9009\u9879\u5361\u4e0a\u4e0b\u6587\u8fd0\u884c\uff0c\u800c\u65e0\u9700\u6307\u5b9a\u8de8\u57df\u6743\u9650\u3002"),a.a.createElement(r["a"],{code:'{\n  ...\n  "permissions": [\n    "activeTab"\n  ],\n  ...\n}',lang:"json"}),a.a.createElement("p",null,"\u672a\u6307\u5b9a ",a.a.createElement("code",null,"activeTab")," \u6743\u9650\u65f6\u8c03\u7528\u52a8\u6001\u6ce8\u5165 API \u65f6\uff0c\u4f1a\u62a5\u4ee5\u4e0b\u9519\uff1a"),a.a.createElement("p",null,a.a.createElement("img",{src:t("CMJo"),alt:"image-20210818150207925"})),a.a.createElement("p",null,"\u52a8\u6001\u6ce8\u5165\u811a\u672c\u4ee3\u7801\u3001\u811a\u672c\u6587\u4ef6\u7684\u793a\u4f8b\u4ee3\u7801\uff1a"),a.a.createElement(r["a"],{code:"chrome.runtime.onMessage.addListener(\n  function(message, callback) {\n    if (message == \"executeScript\"){\n      // \u6ce8\u5165\u811a\u672c\u4ee3\u7801\n      chrome.tabs.executeScript({\n        code: 'document.body.style.backgroundColor=\"orange\"'\n      });\n      // \u6ce8\u5165\u811a\u672c\u6587\u4ef6\n      chrome.tabs.executeScript({\n        file: 'contentScript.js'\n      });\n    }\n  });",lang:"js"}),a.a.createElement("h3",{id:"devtools_page"},a.a.createElement(c["AnchorLink"],{to:"#devtools_page","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"devtools_page"),a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u5b98\u7f51\u94fe\u63a5\uff1a"),a.a.createElement("p",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/mv2/devtools/#devtools-page"},"devtools_page"))),a.a.createElement("p",null,"\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e ",a.a.createElement("code",null,"devtools_page")," \u5b57\u6bb5\uff0c\u589e\u5f3a ",a.a.createElement("code",null,"Chrome Devtools")," \u7684\u80fd\u529b\u3002\u7c7b\u4f3c\u4e8e\u6211\u4eec\u5728\u63a7\u5236\u53f0\u4e0a\u770b\u5230\u7684 ",a.a.createElement("code",null,"network"),"\u3001",a.a.createElement("code",null,"source")," \u7b49\u9762\u5355\u3002\u800c\u4e14\u5728\u6240\u6709\u9009\u9879\u5361\u4e0b\u7684\u63a7\u5236\u53f0\u90fd\u80fd\u770b\u5230\u6b64\u9762\u677f\u3002"),a.a.createElement("p",null,"\u5bf9\u4e8e\u914d\u7f6e\u4e86 ",a.a.createElement("code",null,"devtools_page")," \u5b57\u6bb5\u7684\u63d2\u4ef6\uff0c\u53ef\u4ee5\u79f0\u4e4b\u4e3a\u5f00\u53d1\u8005\u5de5\u5177\u63d2\u4ef6\uff08",a.a.createElement("code",null,"DevTools extensions"),"\uff09\u3002"),a.a.createElement("p",null,"\u5f00\u53d1\u8005\u5de5\u5177\u63d2\u4ef6\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee ",a.a.createElement("code",null,"DevTools APIs"),":"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/devtools_inspectedWindow/"},"devtools.inspectedWindow"),"\uff0c\u83b7\u53d6\u5f53\u524d\u5ba1\u67e5 window\uff0c\u4ee5\u53ca\u5728\u5176\u4e0a\u4e0b\u6587\u8fd0\u884c\u811a\u672c\u4ee3\u7801\u3002"),a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/devtools_network/"},"devtools.network"),"\uff0c\u83b7\u53d6\u7f51\u7edc\u8bf7\u6c42\u4fe1\u606f\u3002"),a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/devtools_panels/"},"devtools.panels"),"\uff0c\u521b\u5efa\u9762\u677f\u4e0e\u9762\u677f\u4ea4\u4e92\u7684 API\u3002")),a.a.createElement("p",null,"\u6b64\u5916\uff0c",a.a.createElement("code",null,"DevTools page")," \u4e00\u822c\u4e0d\u80fd\u76f4\u63a5\u8c03\u7528\u5176\u4ed6 API\uff0c\u9664\u4e86 ",a.a.createElement("code",null,"chrome.extension.*"),"\u3001",a.a.createElement("code",null,"chrome.runtime.*"),"\uff0c\u6240\u4ee5\u9700\u8981\u901a\u8fc7\u6d88\u606f\u901a\u4fe1\u7684\u65b9\u5f0f\uff0c\u8ba9 ",a.a.createElement("code",null,"background")," \u9875\u9762\u628a\u8ba1\u7b97\u540e\u7684\u7ed3\u679c\u8fd4\u56de\u3002"),a.a.createElement("p",null,"\u8fd9\u662f\u5b98\u7f51\u4ecb\u7ecd ",a.a.createElement("code",null,"background"),"\u3001",a.a.createElement("code",null,"content-script"),"\u3001",a.a.createElement("code",null,"devtool-page")," \u4e4b\u95f4\u5173\u7cfb\u7684\u56fe\uff1a"),a.a.createElement("p",null,a.a.createElement("img",{src:t("1LRY"),alt:"devtools-page"})),a.a.createElement("p",null,"\u5b9a\u5236\u5f00\u53d1\u8005\u9762\u677f\u6709\u5173\u4ee3\u7801\uff1a"),a.a.createElement("p",null,a.a.createElement("img",{src:t("4zze"),alt:"devtools-panel-sidebar"})),a.a.createElement("p",null,"1\u3001\u6dfb\u52a0\u9762\u677f js / devtools.js"),a.a.createElement(r["a"],{code:'chrome.devtools.panels.create("My Panel",\n  null,\n  "panel.html",\n  function (panel) {\n    // code invoked on panel creation\n  }\n);',lang:"js"}),a.a.createElement("p",null,"2\u3001\u6dfb\u52a0\u4fa7\u8fb9\u680f js / devtools.js"),a.a.createElement(r["a"],{code:'chrome.devtools.panels.elements.createSidebarPane("My Sidebar",\n  function (sidebar) {\n    // sidebar initialization code here\n    sidebar.setPage("sidebar.html"); // \u8bbe\u7f6e\u4e00\u4e2a\u9875\u9762\n    sidebar.setHeight("8ex");\n  }\n);',lang:"js"}),a.a.createElement("h3",{id:"options_pageoptions_ui"},a.a.createElement(c["AnchorLink"],{to:"#options_pageoptions_ui","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"options_page\u3001options_ui"),a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u5b98\u7f51\u94fe\u63a5\uff1a"),a.a.createElement("p",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/mv2/options/"},"Give users options"))),a.a.createElement("p",null,"\u7528\u6237\u53ef\u4ee5\u7ed9\u63d2\u4ef6\u5b9a\u5236\u914d\u7f6e\u9875\u9762\uff0c\u914d\u7f6e\u9875\u9762\u53ef\u4ee5\u901a\u8fc7 ",a.a.createElement("strong",null,"\u53f3\u51fb")," \u63d2\u4ef6\u56fe\u6807\uff0c\u7136\u540e\u70b9\u51fb ",a.a.createElement("strong",null,"\u9009\u9879")," \u6253\u5f00 ",a.a.createElement("code",null,"option page"),"\u3002\u5982\u679c\u63d2\u4ef6\u6ca1\u6709\u914d\u7f6e ",a.a.createElement("code",null,"options_page"),"\u3001",a.a.createElement("code",null,"options_ui")," \u5b57\u6bb5\uff0c\u6b64\u9009\u9879\u4f1a\u76f4\u63a5\u7f6e\u7070\u3002"),a.a.createElement("p",null,"\u6216\u8005\uff0c\u901a\u8fc7 ",a.a.createElement("code",null,"chrome://extensions")," \u8fdb\u5165\u63d2\u4ef6\u8be6\u60c5\uff0c\u627e\u5230\u5e76\u70b9\u51fb ",a.a.createElement("strong",null,"\u6269\u5c55\u7a0b\u5e8f\u9009\u9879")," \u6253\u5f00\u3002"),a.a.createElement("p",null,"\u901a\u5e38\uff0c\u53ef\u4ee5\u4f7f\u7528\u914d\u7f6e\u9875\u9762\uff0c\u7ba1\u7406\u4e00\u4e9b\u540e\u53f0\u6570\u636e\u3001\u7528\u6237\u4ea4\u4e92\u4e60\u60ef\u7b49\u6570\u636e\u7b49\uff0c\u7ed3\u5408 ",a.a.createElement("code",null,"storage.sync")," API \u4e00\u8d77\u4f7f\u7528\u3002"),a.a.createElement("img",{src:t("aSYH"),alt:"click-option-page",style:{zoom:"80%"}}),a.a.createElement("p",null,"1\u3001\u4ee5\u9875\u9762\u7684\u65b9\u5f0f\u6253\u5f00 ",a.a.createElement("code",null,"option page")),a.a.createElement("p",null,"manifest.json"),a.a.createElement(r["a"],{code:'{\n  "options_page": "options.html"\n}',lang:"json"}),a.a.createElement("p",null,"2\u3001\u4ee5\u5f39\u51fa\u7684\u65b9\u5f0f\u6253\u5f00 ",a.a.createElement("code",null,"option page")),a.a.createElement("p",null,"manifest.json"),a.a.createElement(r["a"],{code:'{  \n "options_ui": {\n    "page": "options.html",\n    "open_in_tab": false\n  }\n}',lang:"json"}),a.a.createElement("p",null,"3\u3001\u4f7f\u7528 Chrome API \u6253\u5f00 ",a.a.createElement("code",null,"option page")),a.a.createElement("p",null,"\u6253\u5f00\u7684\u5f62\u5f0f\uff0c\u4f1a\u6839\u636e ",a.a.createElement("code",null,"options_page")," \u8fd8\u662f ",a.a.createElement("code",null,"options_ui")," \u51b3\u5b9a\u3002\u5982\u679c\u90fd\u6ca1\u6709\u914d\u7f6e\uff0c\u63d2\u4ef6\u4f1a\u62a5\u4ee5\u4e0b\u9519\u8bef\uff1a",a.a.createElement("code",null,"Unchecked runtime.lastError: Could not create an options page.")),a.a.createElement(r["a"],{code:"(async () => {\n  chrome.runtime.onMessage.addListener(\n    function (message, callback) {\n      console.log('onMessage', message);=\n      } else if (message == 'optionPage') {\n        if (chrome.runtime.openOptionsPage) {\n          chrome.runtime.openOptionsPage();\n        } else {\n          window.open(chrome.runtime.getURL('options.html'));\n        }\n      }\n    });\n})();",lang:"js"}),a.a.createElement("h3",{id:"update_url"},a.a.createElement(c["AnchorLink"],{to:"#update_url","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"update_url"),a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u5b98\u7f51\u94fe\u63a5\uff1a"),a.a.createElement("p",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/apps/autoupdate/"},"Autoupdating"))),a.a.createElement("p",null,"\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\u5b9e\u73b0\u63d2\u4ef6\u66f4\u65b0\uff1a"),a.a.createElement("p",null,"1\u3001\u4f7f\u7528 Chrome \u63d2\u4ef6\u5e73\u53f0\u6258\u7ba1\uff0c\u901a\u8fc7\u5e73\u53f0\u53d1\u5e03\u66f4\u65b0\u7248\u672c\uff0c\u5b9e\u73b0\u63d2\u4ef6\u7684\u66f4\u65b0\u3002"),a.a.createElement("p",null,"2\u3001\u901a\u8fc7\u6307\u5b9a ",a.a.createElement("code",null,"update_url")," \u5b57\u6bb5\uff0c\u968f\u6d4f\u89c8\u5668\u7684\u81ea\u52a8\u68c0\u67e5\u66f4\u65b0\u673a\u5236\uff08\u6bcf\u4e2a\u51e0\u4e2a\u5c0f\u65f6\uff09\uff0c\u62c9\u53d6 ",a.a.createElement("code",null,"xml")," \u6e05\u5355\uff0c\u51b3\u5b9a\u662f\u5426\u66f4\u65b0\u6700\u65b0\u7248\u672c\u3002"),a.a.createElement("p",null,"\u5f88\u9057\u61be\u7684\u662f\uff0c\u6211\u6ca1\u6709\u5728\u672c\u5730\u8c03\u8bd5\u6210\u529f\uff0c\u6839\u636e\u7f51\u4e0a\u7684\u8bf4\u6cd5\uff0cChrome \u66f4\u65b0\u673a\u5236\u4e0d\u8ba4\u672c\u5730\u6587\u4ef6\u670d\u52a1\uff08\u4e0e\u7aef\u53e3\u53f7\u975e 80 \u6709\u5173\uff09\uff0c\u611f\u5174\u8da3\u53ef\u4ee5\u81ea\u884c\u63a2\u7d22\u4e00\u4e0b\u3002"),a.a.createElement("h2",{id:"\u4e3b\u8981-api-\u4ecb\u7ecd"},a.a.createElement(c["AnchorLink"],{to:"#\u4e3b\u8981-api-\u4ecb\u7ecd","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u4e3b\u8981 API \u4ecb\u7ecd"),a.a.createElement("h3",{id:"chromeactionchromepageactionchromebrowseraction"},a.a.createElement(c["AnchorLink"],{to:"#chromeactionchromepageactionchromebrowseraction","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"chrome.action\u3001chrome.pageAction\u3001chrome.browserAction"),a.a.createElement("p",null,"\u8fd9\u4e09\u4e2a API \u5747\u4e0e\u63d2\u4ef6\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u53f3\u4fa7\u7684 icon \u6709\u5173\uff0c\u4f46\u5e76\u4e0d\u662f\u5b8c\u5168\u4e00\u6837\u7684\u4e1c\u897f\u3002"),a.a.createElement("p",null,"\u4e09\u8005\u7684\u5173\u7cfb\u53ef\u4ee5\u4f7f\u7528\u5b98\u7f51\u7684\u4e00\u4e2a\u8bf4\u6cd5\uff1a"),a.a.createElement("blockquote",null,a.a.createElement("p",null,"The chrome.action API replaced the ",a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/browserAction/"},"browserAction")," and ",a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/pageAction/"},"pageAction")," APIs in Manifest V3. By default, actions are similar to browser actions, but it is possible to emulate the behavior of a page action using the action API."),a.a.createElement("p",null,"\u5728 Manifest V3 \u4e2d\uff0c\u4f7f\u7528 chrome.action \u4ee3\u66ff V2 \u4e2d\u7684\u5176\u4ed6\u4e24\u4e2a API\u3002 ",a.a.createElement("code",null,"chrome.action")," \u66f4\u50cf\u662f ",a.a.createElement("code",null,"chrome.browserAction"),"\uff0c\u540c\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 ",a.a.createElement("code",null,"chrome.action")," \u6a21\u62df ",a.a.createElement("code",null,"chrome.browserAction")," \u4e2d\u7684\u80fd\u529b\u3002")),a.a.createElement("p",null,a.a.createElement("code",null,"chrome.pageAction")," \u4e0e ",a.a.createElement("code",null,"chrome.browserAction")," \u7684\u5dee\u5f02\u5728\u4e8e\uff1a"),a.a.createElement("p",null,"browserAction \u4ee5\u5e38\u9a7b icon \u7684\u5f62\u5f0f\uff0c\u5728\u6240\u6709\u7684\u9009\u9879\u5361\u4e2d\uff0c\u884c\u4e3a\u90fd\u662f\u4e00\u6837\u3002\u800c pageAction \u5219\u901a\u5e38\u7528\u4e8e\u67d0\u4e9b url/tab \u624d\u5c55\u793a icon \u7684\u573a\u666f\u3002"),a.a.createElement("p",null,a.a.createElement("strong",null,"chrome.browserAction \u76f8\u5173 API")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("strong",null,"Methods"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"disable")," \u2212 browserAction.disable(integer tabId)"),a.a.createElement("li",null,a.a.createElement("code",null,"enable")," \u2212 browserAction.enable(integer tabId)"),a.a.createElement("li",null,a.a.createElement("code",null,"getBadgeBackgroundColor")," \u2212 browserAction.getBadgeBackgroundColor(object details, function callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"getBadgeText")," \u2212 browserAction.getBadgeText(object details, function callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"getPopup1")," \u2212 browserAction.getPopup(object details, function callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"getTitle1")," \u2212 browserAction.getTitle(object details, function callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"setBadgeBackgroundColor")," \u2212 browserAction.setBadgeBackgroundColor(object details)"),a.a.createElement("li",null,a.a.createElement("code",null,"setBadgeText")," \u2212 browserAction.setBadgeText(object details)"),a.a.createElement("li",null,a.a.createElement("code",null,"setIcon1")," \u2212 browserAction.setIcon(object details, function callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"setPopup1")," \u2212 browserAction.setPopup(object details)"),a.a.createElement("li",null,a.a.createElement("code",null,"setTitle1")," \u2212 browserAction.setTitle(object details)"))),a.a.createElement("li",null,a.a.createElement("strong",null,"Events"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"onClicked1"))))),a.a.createElement("p",null,a.a.createElement("strong",null,"chrome.pageAction \u76f8\u5173 API")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("strong",null,"Methods"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"getPopup1")," \u2212 pageAction.getPopup(object details, function callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"getTitle1")," \u2212 pageAction.getTitle(object details, function callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"hide")," \u2212 chrome.pageAction.hide(integer tabId)"),a.a.createElement("li",null,a.a.createElement("code",null,"setIcon1")," \u2212 pageAction.setIcon(object details, function callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"setPopup1")," \u2212 pageAction.setPopup(object details)"),a.a.createElement("li",null,a.a.createElement("code",null,"setTitle1")," \u2212 pageAction.setTitle(object details)"),a.a.createElement("li",null,a.a.createElement("code",null,"show")," \u2212 pageAction.show(integer tabId)"))),a.a.createElement("li",null,a.a.createElement("strong",null,"Events"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"onClicked1"))))),a.a.createElement("h3",{id:"chromeruntime"},a.a.createElement(c["AnchorLink"],{to:"#chromeruntime","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"chrome.runtime"),a.a.createElement("p",null,a.a.createElement("code",null,"chrome.runtime")," API \u5141\u8bb8\u7528\u6237\u62ff\u5230\u540e\u53f0\u7a0b\u5e8f\u9875\u9762\u3001manifest \u4fe1\u606f\u3001\u5b9e\u73b0\u6d88\u606f\u901a\u4fe1\u3001\u63d2\u4ef6\u751f\u547d\u5468\u671f\u7b49\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u4ee5\u4e0b\u80fd\u529b\uff1a"),a.a.createElement("p",null,a.a.createElement("strong",null,"Message passing\uff08\u5e38\u7528\uff09")),a.a.createElement("p",null,"\u5b9e\u73b0",a.a.createElement(c["AnchorLink"],{to:"#%E6%B6%88%E6%81%AF%E9%80%9A%E4%BF%A1"},"\u6d88\u606f\u901a\u4fe1"),"\uff0c\u5305\u62ec ",a.a.createElement("code",null,"connect, connectNative, sendMessage, and sendNativeMessage"),"\u3002"),a.a.createElement("p",null,a.a.createElement("strong",null,"Accessing extension and platform metadata")),a.a.createElement("p",null,"\u83b7\u53d6 \u540e\u53f0\u9875\u9762\uff0cmanifest \u914d\u7f6e\uff0c\u5e73\u53f0\u53c2\u6570\u7b49\uff0c\u5305\u62ec ",a.a.createElement("code",null,"getBackgroundPage, getManifest, getPackageDirectoryEntry, and getPlatformInfo"),"\u3002"),a.a.createElement("p",null,a.a.createElement("strong",null,"Managing extension lifecycle and options")),a.a.createElement("p",null,"\u91cd\u65b0\u52a0\u8f7d\u63d2\u4ef6\uff0c\u6267\u884c\u7acb\u5373\u66f4\u65b0\u68c0\u67e5\uff0c\u63a7\u5236 option \u9875\u9762\u5c55\u793a\u7b49\uff0c\u5305\u62ec ",a.a.createElement("code",null,"reload, requestUpdateCheck, setUninstallURL, and openOptionsPage"),"\u3002"),a.a.createElement("p",null,a.a.createElement("strong",null,"Device restart support")),a.a.createElement("p",null,"\u91cd\u542f\u63d2\u4ef6\uff0c\u4f46\u53ea\u80fd\u5728 ",a.a.createElement("code",null,"Chrome OS")," \u7cfb\u7edf\u4e0a\u751f\u6548\uff0c\u5305\u62ec ",a.a.createElement("code",null,"restart, restartAfterDelay"),"\u3002"),a.a.createElement("p",null,a.a.createElement("strong",null,"Helper utilities")),a.a.createElement("p",null,"\u5176\u4ed6\u4e00\u4e9b\u5de5\u5177\u51fd\u6570\uff0c\u5305\u62ec ",a.a.createElement("code",null,"getURL"),"\u3002"),a.a.createElement("p",null,a.a.createElement("strong",null,"\u6709\u5173 API")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("strong",null,"Methods"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"connect")," - connect(extensionId, connectInfo)"),a.a.createElement("li",null,a.a.createElement("code",null,"connectNative")," - connectNative(application)"),a.a.createElement("li",null,a.a.createElement("code",null,"getBackgroundPage")," - getBackgroundPage(callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"getManifest")," - getManifest()"),a.a.createElement("li",null,a.a.createElement("code",null,"getPackageDirectoryEntry")," - getPackageDirectoryEntry(callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"getPlatformInfo")," - getPlatformInfo(callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"getURL")," - getURL(path)"),a.a.createElement("li",null,a.a.createElement("code",null,"openOptionsPage")," - openOptionsPage(callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"reload")," - reload()"),a.a.createElement("li",null,a.a.createElement("code",null,"requestUpdateCheck")," - requestUpdateCheck(callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"restart")," - restart()"),a.a.createElement("li",null,a.a.createElement("code",null,"restartAfterDelay")," - restartAfterDelay(seconds, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"sendMessage")," - sendMessage(extensionId, message, options, responseCallback)"),a.a.createElement("li",null,a.a.createElement("code",null,"sendNativeMessage")," - sendNativeMessage(application, message, responseCallback)"),a.a.createElement("li",null,a.a.createElement("code",null,"setUninstallURL")," - setUninstallURL(url, callback)"))),a.a.createElement("li",null,a.a.createElement("strong",null,"Events"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"onBrowserUpdateAvailable")),a.a.createElement("li",null,a.a.createElement("code",null,"onConnect")),a.a.createElement("li",null,a.a.createElement("code",null,"onConnectExternal")),a.a.createElement("li",null,a.a.createElement("code",null,"onConnectNative")),a.a.createElement("li",null,a.a.createElement("code",null,"onInstalled")),a.a.createElement("li",null,a.a.createElement("code",null,"onMessage")),a.a.createElement("li",null,a.a.createElement("code",null,"onMessageExternal")),a.a.createElement("li",null,a.a.createElement("code",null,"onRestartRequired")),a.a.createElement("li",null,a.a.createElement("code",null,"onStartup")),a.a.createElement("li",null,a.a.createElement("code",null,"onSuspend")),a.a.createElement("li",null,a.a.createElement("code",null,"onSuspendCanceled")),a.a.createElement("li",null,a.a.createElement("code",null,"onUpdateAvailable"))))),a.a.createElement("h3",{id:"chrometabs"},a.a.createElement(c["AnchorLink"],{to:"#chrometabs","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"chrome.tabs"),a.a.createElement("p",null,"chrome.tabs API \u5141\u8bb8\u7528\u6237\u65b0\u5efa\u3001\u7f16\u8f91\u3001\u91cd\u65b0\u6392\u7248\u9009\u9879\u5361\uff0c\u4ee5\u53ca\u83b7\u53d6\u9009\u9879\u5361\u4fe1\u606f\u7b49\u3002"),a.a.createElement("p",null,'\u64cd\u4f5c\u9009\u9879\u5361\u9700\u8981\u5728 manife.json \u4e2d\u7533\u8bf7 tabs \u6743\u9650\uff1a"permissions": [ "tabs"  ]\u3002'),a.a.createElement("p",null,a.a.createElement("strong",null,"\u6709\u5173 API")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("strong",null,"Methods"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"captureVisibleTab")," - captureVisibleTab(windowId, options, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"connect")," - connect(tabId, connectInfo, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"create")," - create(createProperties, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"detectLanguage")," - detectLanguage(tabId, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"discard")," - discard(tabId, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"duplicate")," - duplicate(tabId, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"executeScript")," - executeScript(tabId, details, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"get")," - get(tabId, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"getAllInWindow")," - getAllInWindow(windowId, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"getCurrent")," - getCurrent(callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"getSelected")," - getSelected(windowId, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"getZoom")," - getZoom(tabId, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"getZoomSettings")," - getZoomSettings(tabId, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"goBack")," - goBack(tabId, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"goForward")," - goForward(tabId, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"group")," - group(options, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"highlight")," - highlight(highlightInfo, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"insertCSS")," - insertCSS(tabId, details, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"move")," - move(tabIds, moveProperties, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"query")," - query(queryInfo, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"reload")," - reload(tabId, reloadProperties, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"remove")," - remove(tabIds, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"removeCSS")," - removeCSS(tabId, details, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"sendMessage")," - sendMessage(tabId, message, options, responseCallback)"),a.a.createElement("li",null,a.a.createElement("code",null,"sendRequest")," - sendRequest(tabId, request, responseCallback)"),a.a.createElement("li",null,a.a.createElement("code",null,"setZoom")," - setZoom(tabId, zoomFactor, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"setZoomSettings")," - setZoomSettings(tabId, zoomSettings, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"ungroup")," - ungroup(tabIds, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"update")," - update(tabId, updateProperties, callback)"))),a.a.createElement("li",null,a.a.createElement("strong",null,"Events"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"onActivated")),a.a.createElement("li",null,a.a.createElement("code",null,"onActiveChanged")),a.a.createElement("li",null,a.a.createElement("code",null,"onAttached")),a.a.createElement("li",null,a.a.createElement("code",null,"onCreated")),a.a.createElement("li",null,a.a.createElement("code",null,"onDetached")),a.a.createElement("li",null,a.a.createElement("code",null,"onHighlightChanged")),a.a.createElement("li",null,a.a.createElement("code",null,"onHighlighted")),a.a.createElement("li",null,a.a.createElement("code",null,"onMoved")),a.a.createElement("li",null,a.a.createElement("code",null,"onRemoved")),a.a.createElement("li",null,a.a.createElement("code",null,"onReplaced")),a.a.createElement("li",null,a.a.createElement("code",null,"onSelectionChanged")),a.a.createElement("li",null,a.a.createElement("code",null,"onUpdated")),a.a.createElement("li",null,a.a.createElement("code",null,"onZoomChange"))))),a.a.createElement("h3",{id:"chromecontextmenus"},a.a.createElement(c["AnchorLink"],{to:"#chromecontextmenus","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"chrome.contextMenus"),a.a.createElement("p",null,'\u4e00\u822c\u53ea\u5728\u9700\u8981\u53f3\u952e\u9762\u677f\u6dfb\u52a0\u4e00\u4e9b\u83dc\u5355\u65f6\u4f7f\u7528\u5230\u8fd9\u4e2a API\uff0c\u64cd\u4f5c\u53f3\u952e\u83dc\u5355\u9762\u677f\u9700\u8981\u7533\u8bf7\u6743\u9650\uff1a"permissions": [ "contextMenus" ]\u3002'),a.a.createElement("p",null,a.a.createElement("strong",null,"\u6709\u5173 API")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("strong",null,"Methods")),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"create")," - create(createProperties, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"remove")," - remove(menuItemId, callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"removeAll")," - removeAll(callback)"),a.a.createElement("li",null,a.a.createElement("code",null,"update")," - update(id, updateProperties, callback)"))),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("strong",null,"Events"))),a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement("code",null,"onClicked")))),a.a.createElement("h2",{id:"\u6d88\u606f\u901a\u4fe1"},a.a.createElement(c["AnchorLink"],{to:"#\u6d88\u606f\u901a\u4fe1","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u6d88\u606f\u901a\u4fe1"),a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u6269\u5c55\u7a0b\u5e8f\u548c\u5185\u5bb9\u811a\u672c\u95f4\u7684\u901a\u4fe1\u4f7f\u7528\u6d88\u606f\u4f20\u9012\u7684\u65b9\u5f0f\u3002\u4e24\u8fb9\u5747\u53ef\u4ee5\u76d1\u542c\u53e6\u4e00\u8fb9\u53d1\u6765\u7684\u6d88\u606f\uff0c\u5e76\u901a\u8fc7\u540c\u6837\u7684\u901a\u9053\u56de\u5e94\u3002\u6d88\u606f\u53ef\u4ee5\u5305\u542b\u4efb\u4f55\u6709\u6548\u7684 JSON \u5bf9\u8c61\uff08null\u3001boolean\u3001number\u3001string\u3001array \u6216 object\uff09\u3002")),a.a.createElement("h4",{id:"\u77ed\u94fe\u63a5"},a.a.createElement(c["AnchorLink"],{to:"#\u77ed\u94fe\u63a5","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u77ed\u94fe\u63a5"),a.a.createElement("p",null,"\u4e3b\u8981\u662f",a.a.createElement("code",null,"runtime.sendMessage"),"\u6216",a.a.createElement("code",null,"tabs.sendMessage")," \u65b9\u6cd5\u3002"),a.a.createElement("p",null,a.a.createElement("strong",null,"1\u3001\u53d1\u9001\u65b9")),a.a.createElement("p",null,"\u5728",a.a.createElement("code",null,"\u5185\u5bb9\u811a\u672c"),"\u4e2d\u53d1\u9001\u8bf7\u6c42\uff0c\u6216\u4ece",a.a.createElement("code",null,"\u6269\u5c55\u7a0b\u5e8f"),"\u5411",a.a.createElement("code",null,"\u5185\u5bb9\u811a\u672c"),"\u53d1\u9001\u8bf7\u6c42\u3002"),a.a.createElement(r["a"],{code:'chrome.runtime.sendMessage({greeting: "\u60a8\u597d"}, function(response) {\n  console.log(response.farewell);\n});',lang:"js"}),a.a.createElement("p",null,"\u5411",a.a.createElement("code",null,"\u6307\u5b9a\u6807\u7b7e\u9875"),"\u4e2d\u7684\u5185\u5bb9\u811a\u672c\u4e2d\u53d1\u9001\u8bf7\u6c42\u3002"),a.a.createElement(r["a"],{code:'chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {\n  chrome.tabs.sendMessage(tabs[0].id, {greeting: "\u60a8\u597d"}, function(response) {\n    console.log(response.farewell);\n  });\n});',lang:"js"}),a.a.createElement("p",null,a.a.createElement("strong",null,"2\u3001\u63a5\u6536\u65b9")),a.a.createElement(r["a"],{code:'chrome.runtime.onMessage.addListener(\n  function(request, sender, sendResponse) {\n    console.log(sender.tab \n                "\u6765\u81ea\u5185\u5bb9\u811a\u672c\uff1a" + sender.tab.url :\n                "\u6765\u81ea\u6269\u5c55\u7a0b\u5e8f");\n    if (request.greeting == "\u60a8\u597d")\n      sendResponse({farewell: "\u518d\u89c1"});\n  });',lang:"js"}),a.a.createElement("h4",{id:"\u957f\u8fde\u63a5"},a.a.createElement(c["AnchorLink"],{to:"#\u957f\u8fde\u63a5","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u957f\u8fde\u63a5"),a.a.createElement("p",null,"\u4e3b\u8981\u662f",a.a.createElement("code",null,"runtime.connect"),"\u6216",a.a.createElement("code",null,"tabs.connect"),"\u65b9\u6cd5\u3002"),a.a.createElement("p",null,a.a.createElement("strong",null,"1\u3001\u53d1\u9001\u65b9")),a.a.createElement("p",null,"\u5728",a.a.createElement("code",null,"\u5185\u5bb9\u811a\u672c"),"\u4e2d\u53d1\u9001\u8bf7\u6c42\uff0c\u6216\u4ece",a.a.createElement("code",null,"\u6269\u5c55\u7a0b\u5e8f"),"\u5411",a.a.createElement("code",null,"\u5185\u5bb9\u811a\u672c"),"\u53d1\u9001\u8bf7\u6c42\u3002"),a.a.createElement("p",null,a.a.createElement("strong",null,"\u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u4e24\u7aef\u90fd\u5c06\u5f97\u5230\u4e00\u4e2a ",a.a.createElement("code",null,"runtime.Port"),"\u5bf9\u8c61\uff0c\u7528\u6765\u901a\u8fc7\u5efa\u7acb\u7684\u8fde\u63a5\u53d1\u9001\u548c\u63a5\u6536\u6d88\u606f\u3002")),a.a.createElement(r["a"],{code:'var port = chrome.runtime.connect({name: "\u6572\u95e8"});\nport.postMessage({joke: "\u6572\u95e8"}); // \u53d1\u9001\u6d88\u606f\nport.onMessage.addListener(function(msg) { // \u63a5\u6536\u6d88\u606f\n  if (msg.question == "\u662f\u8c01\uff1f")\n    port.postMessage({answer: "\u5973\u58eb"});\n  else if (msg.question == "\u54ea\u4f4d\u5973\u58eb\uff1f")\n    port.postMessage({answer: "Bovary \u5973\u58eb"});\n});',lang:"js"}),a.a.createElement("p",null,"\u5411",a.a.createElement("code",null,"\u6307\u5b9a\u6807\u7b7e\u9875"),"\u4e2d\u7684\u5185\u5bb9\u811a\u672c\u4e2d\u53d1\u9001\u8bf7\u6c42\uff0c\u4f7f\u7528",a.a.createElement("code",null,"tabs.connect"),"\u66ff\u6362\u4e0a\u8ff0\u7684",a.a.createElement("code",null,"runtime.connect"),"\u3002"),a.a.createElement("p",null,a.a.createElement("strong",null,"2\u3001\u63a5\u6536\u65b9")),a.a.createElement("p",null,"\u8bbe\u7f6e\u4e00\u4e2a",a.a.createElement("code",null,"runtime.onConnect"),"\u4e8b\u4ef6\u76d1\u542c\u5668\uff0c\u76d1\u542c\u53d1\u9001\u65b9\u8c03\u7528 ",a.a.createElement("code",null,"connect")," \u540e\uff0c\u5efa\u7acb\u8fde\u63a5\u5e76\u5f97\u5230\u4e00\u4e2a",a.a.createElement("code",null,"runtime.Port"),"\u5bf9\u8c61\u3002"),a.a.createElement(r["a"],{code:'chrome.runtime.onConnect.addListener(function(port) {\n  console.assert(port.name == "\u6572\u95e8");\n  port.onMessage.addListener(function(msg) {\n    if (msg.joke == "\u6572\u95e8")\n      port.postMessage({question: "\u662f\u8c01\uff1f"});\n    else if (msg.answer == "\u5973\u58eb")\n      port.postMessage({question: "\u54ea\u4f4d\u5973\u58eb\uff1f"});\n    else if (msg.answer == "Bovary \u5973\u58eb")\n      port.postMessage({question: "\u6211\u6ca1\u542c\u6e05\u695a\u3002"});\n  });\n});',lang:"js"}),a.a.createElement("p",null,a.a.createElement("strong",null,"3\u3001\u65ad\u5f00\u8fde\u63a5")),a.a.createElement("p",null,"\u5176\u4e2d\u4e00\u7aef\u76d1\u542c",a.a.createElement("code",null,"runtime.Port.onDisconnect"),"\u4e8b\u4ef6\uff0c\u5f53\u8fde\u63a5\u7684\u53e6\u4e00\u7aef\u8c03\u7528",a.a.createElement("code",null,"runtime.Port.disconnect"),"\u6216\u5305\u542b\u8be5\u7aef\u53e3\u7684\u9875\u9762\u5df2\u7ed3\u675f\uff08\u4f8b\u5982\u6807\u7b7e\u9875\u8f6c\u5230\u4e86\u53e6\u4e00\u4e2a\u9875\u9762\uff09\u65f6\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u7aef\u53e3\u786e\u4fdd\u90fd\u4f1a\u53d1\u751f\u4e00\u6b21\u8be5\u4e8b\u4ef6\u3002"),a.a.createElement("h4",{id:"\u975e\u63d2\u4ef6\u9875\u9762\u5411\u5185\u5bb9\u811a\u672c\u53d1\u9001\u6d88\u606f"},a.a.createElement(c["AnchorLink"],{to:"#\u975e\u63d2\u4ef6\u9875\u9762\u5411\u5185\u5bb9\u811a\u672c\u53d1\u9001\u6d88\u606f","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u975e\u63d2\u4ef6\u9875\u9762\u5411\u5185\u5bb9\u811a\u672c\u53d1\u9001\u6d88\u606f"),a.a.createElement("p",null,a.a.createElement("code",null,"Inner.html")),a.a.createElement(r["a"],{code:'document.getElementById("theButton").addEventListener("click",\n    function() {\n  window.postMessage({ type: "FROM_PAGE", text: "Hello from the webpage!" }, "*");\n}, false);',lang:"js"}),a.a.createElement("p",null,a.a.createElement("code",null,"contentScript.js")),a.a.createElement(r["a"],{code:'var port = chrome.runtime.connect();\n\nwindow.addEventListener("message", function(event) {\n  // We only accept messages from ourselves\n  if (event.source != window)\n    return;\n\n  if (event.data.type && (event.data.type == "FROM_PAGE")) {\n    console.log("Content script received: " + event.data.text);\n    port.postMessage(event.data.text);\n  }\n}, false);',lang:"js"}),a.a.createElement("h2",{id:"\u5f00\u53d1\u4e0e\u8c03\u8bd5"},a.a.createElement(c["AnchorLink"],{to:"#\u5f00\u53d1\u4e0e\u8c03\u8bd5","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u5f00\u53d1\u4e0e\u8c03\u8bd5"),a.a.createElement("blockquote",null,a.a.createElement("p",null,"\u5b98\u7f51\u94fe\u63a5\uff1a"),a.a.createElement("p",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/mv2/getstarted/"},"Getting started")),a.a.createElement("p",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/mv2/tut_debugging/"},"Debugging extensions"))),a.a.createElement("h3",{id:"\u5f00\u53d1\u524d\u51c6\u5907"},a.a.createElement(c["AnchorLink"],{to:"#\u5f00\u53d1\u524d\u51c6\u5907","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u5f00\u53d1\u524d\u51c6\u5907"),a.a.createElement("ol",null,a.a.createElement("li",null,a.a.createElement("p",null,"\u901a\u8fc7\u5bfc\u822a\u6253\u5f00\u6269\u5c55\u7ba1\u7406\u9875\u9762\uff1a",a.a.createElement("code",null,"chrome://extensions")),a.a.createElement("ul",null,a.a.createElement("li",null,"\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5355\u51fb Chrome \u83dc\u5355\uff0c\u5c06\u9f20\u6807\u60ac\u505c\u5728\u201c",a.a.createElement("strong",null,"\u66f4\u591a\u5de5\u5177"),"\u201d\u4e0a\uff0c\u7136\u540e\u9009\u62e9\u201d",a.a.createElement("strong",null,"\u6269\u5c55\u7a0b\u5e8f"),"\u201d\u6765\u6253\u5f00\u201c",a.a.createElement("strong",null,"\u6269\u5c55\u7ba1\u7406"),"\u201d\u9875\u9762\u3002"))),a.a.createElement("li",null,a.a.createElement("p",null,"\u901a\u8fc7\u5355\u51fb ",a.a.createElement("strong",null,"\u5f00\u53d1\u8005\u6a21\u5f0f")," \u65c1\u8fb9\u7684\u5207\u6362\u5f00\u5173\u542f\u7528\u3002")),a.a.createElement("li",null,a.a.createElement("p",null,"\u5355\u51fb ",a.a.createElement("strong",null,"\u52a0\u8f7d\u5df2\u89e3\u538b\u7684\u6269\u5c55\u7a0b\u5e8f")," \u6309\u94ae\u5e76\u9009\u62e9\u6269\u5c55\u76ee\u5f55\u3002")),a.a.createElement("li",null,a.a.createElement("p",null,"\u5982\u679c\u4fee\u6539\u4e86\u672c\u5730\u7684\u4ee3\u7801\uff0c\u901a\u8fc7\u70b9\u51fb ",a.a.createElement("strong",null,"\u5237\u65b0")," \u56fe\u6807\u6309\u94ae\uff0c\u91cd\u65b0\u52a0\u8f7d\u63d2\u4ef6\u3002"))),a.a.createElement("img",{src:t("TE3f"),alt:"start a chrome etension",style:{zoom:"50%"}}),a.a.createElement("h3",{id:"\u521b\u5efa\u9879\u76ee-react"},a.a.createElement(c["AnchorLink"],{to:"#\u521b\u5efa\u9879\u76ee-react","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u521b\u5efa\u9879\u76ee (React)"),a.a.createElement("p",null,"Chrome \u63d2\u4ef6\u7684\u5f00\u53d1\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u539f\u751f JS\uff0c\u4f46\u662f\u7531\u4e8e\u4f7f\u7528\u539f\u751f\u6765\u5199\u4ea4\u4e92\u4e8b\u4ef6\u7740\u5b9e\u8ba9\u4eba\u5934\u75db\u3002"),a.a.createElement("p",null,"\u4e8e\u662f\uff0c\u672c\u6b21\u9879\u76ee\u7684\u642d\u5efa\u4ee5 ",a.a.createElement("code",null,"React + Antd")," \u4f5c\u4e3a\u57fa\u672c\u6280\u672f\u9009\u578b\u3002"),a.a.createElement("ol",null,a.a.createElement("li",null,"\u521d\u59cb\u5316 npm")),a.a.createElement(r["a"],{code:"npm init -y",lang:"bash"}),a.a.createElement("ol",{start:2},a.a.createElement("li",null,"\u5b89\u88c5\u4f9d\u8d56")),a.a.createElement(r["a"],{code:"# dev \u4f9d\u8d56\nnpm install --save-dev @babel/core @babel/plugin-proposal-class-properties @babel/preset-env @babel/preset-react babel-loader copy-webpack-plugin clean-webpack-plugin html-loader html-webpack-plugin webpack webpack-cli webpack-dev-server\n# \u975e dev \u4f9d\u8d56\nnpm install react react-dom react-router-dom",lang:"bash"}),a.a.createElement("ol",{start:3},a.a.createElement("li",null,"\u6dfb\u52a0 ",a.a.createElement("code",null,"scripts"))),a.a.createElement(r["a"],{code:'{\n   ...\n  "scripts": {\n    "start": "webpack-dev-server",\n    "build:prod": "webpack --mode=production",\n    "build:watch": "webpack --watch --mode=production"\n  }\n  ...\n}',lang:"json"}),a.a.createElement("ol",{start:4},a.a.createElement("li",null,"\u521b\u5efa React \u6587\u4ef6")),a.a.createElement("p",null,"\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a"),a.a.createElement(r["a"],{code:"\ud83d\udce6src\n \u2523 \ud83d\udcc2assets\n \u2503 \u2517 \ud83d\udcdceye-dropper-solid.svg\n \u2523 \ud83d\udcc2background\n \u2503 \u2517 \ud83d\udcdcindex.ejs\n \u2523 \ud83d\udcc2components\n \u2523 \ud83d\udcc2epicker-ui\n \u2503 \u2523 \ud83d\udcdcapi.ts\n \u2503 \u2523 \ud83d\udcdcindex.css\n \u2503 \u2523 \ud83d\udcdcindex.ejs\n \u2503 \u2517 \ud83d\udcdcindex.tsx\n \u2523 \ud83d\udcc2popup\n \u2503 \u2523 \ud83d\udcdcindex.css\n \u2503 \u2523 \ud83d\udcdcindex.ejs\n \u2503 \u2517 \ud83d\udcdcindex.tsx\n \u2523 \ud83d\udcdcdeclares.d.ts\n \u2523 \ud83d\udcdcdefault.css\n \u2523 \ud83d\udcdcmanifest.json\n \u2517 \ud83d\udcdcrequest.ts",lang:"text"}),a.a.createElement("p",null,"\u7531\u4e8e\u6211\u4eec\u9700\u8981\u63d2\u5165\u4e00\u4e9b\u7b2c\u4e09\u65b9\u7684 js \u5305\uff0c\u6240\u4ee5\u6211\u4eec\u7684 HTML \u6a21\u7248\u91c7\u7528 ejs \u6587\u4ef6\u6765\u5199\u3002"),a.a.createElement("p",null,"popup.ejs"),a.a.createElement(r["a"],{code:'<!DOCTYPE html>\n<html lang="en">\n\n<head>\n  <title>Document</title>\n</head>\n\n<body>\n  <div id="popup"></div>\n  <%\n    for (let i=0; i<htmlWebpackPlugin.options.jsScripts.length; i++) {\n  %>\n    <script defer="defer" src="<%= htmlWebpackPlugin.options.jsScripts[i] %>"><\/script>\n  <% } %>\n</body>\n\n</html>',lang:"ejs"}),a.a.createElement("p",null,"epicker-ui.js"),a.a.createElement(r["a"],{code:'<!DOCTYPE html>\n<html id="tracker-epicker" lang="en">\n\n<head>\n  <meta charset="utf-8">\n</head>\n\n<body>\n  <div id="epicker-ui"></div>\n  <%\n    for (let i=0; i<htmlWebpackPlugin.options.jsScripts.length; i++) {\n  %>\n  <script defer="defer" src="<%= htmlWebpackPlugin.options.jsScripts[i] %>"><\/script>\n  <% } %>\n</body>\n\n</html>',lang:"ejs"}),a.a.createElement("p",null,"background.ejs"),a.a.createElement(r["a"],{code:'<!DOCTYPE html>\n<html lang="en">\n\n<head>\n  <meta charset="utf-8">\n</head>\n\n<body>\n  <%\n  for (let i=0; i<htmlWebpackPlugin.options.jsScripts.length; i++) {\n  %>\n  <script defer="defer" src="<%= htmlWebpackPlugin.options.jsScripts[i] %>"><\/script>\n  <% } %>\n</body>\n\n</html>',lang:"ejs"}),a.a.createElement("ol",{start:5},a.a.createElement("li",null,"\u521b\u5efa Chrome \u63d2\u4ef6\u6587\u4ef6")),a.a.createElement("p",null,"manifest.json"),a.a.createElement(r["a"],{code:'{\n  "description": "Tracker Creator for SSC",\n  "manifest_version": 2,\n  "minimum_chrome_version": "55.0",\n  "name": "Tracker Creator 2",\n  "version": "0.0.1",\n\n  "background": {\n    "page": "background.html"\n  },\n  "browser_action": {\n    "default_icon": "img/icon.png",\n    "default_popup": "popup.html",\n    "default_title": "Tracker Creator"\n  },\n  "icons": {\n    "32": "img/icon.png"\n  },\n  "content_scripts": [\n    {\n      "all_frames": true,\n      "js": [\n        "/js/vapi.js",\n        "/js/vapi-client.js",\n        "/js/contentscript.js"\n      ],\n      "match_about_blank": true,\n      "matches": [\n        "http://*/*",\n        "https://*/*"\n      ],\n      "run_at": "document_start"\n    }\n  ],\n\n  "content_security_policy": "script-src \'self\'; object-src \'self\'",\n\n  "permissions": [\n    "cookies",\n    "storage",\n    "tabs",\n    "unlimitedStorage",\n    "webNavigation",\n    "webRequest",\n    "webRequestBlocking",\n    "<all_urls>"\n  ],\n\n  "web_accessible_resources": [\n    "/web_accessible_resources/*"\n  ]\n}',lang:"json"}),a.a.createElement("p",null,a.a.createElement("code",null,"content_scripts"),": \u8fd9\u91cc\u914d\u7f6e\u4e86\u4e00\u4e9b\u4e0a\u4e0b\u6587\u811a\u672c\u3002"),a.a.createElement("p",null,a.a.createElement("code",null,"permissions"),": \u9700\u8981\u5411\u6d4f\u89c8\u5668\u7533\u8bf7\u7684\u6743\u9650\u3002"),a.a.createElement("p",null,a.a.createElement("code",null,"web_accessible_resources"),": \u8d44\u6e90\u6587\u4ef6\uff0c\u5982 ",a.a.createElement("code",null,"epicker-ui.html"),"\u3002"),a.a.createElement("ol",{start:6},a.a.createElement("li",null,"\u914d\u7f6e ",a.a.createElement("code",null,"tsconfig.json"))),a.a.createElement(r["a"],{code:'{\n  "compilerOptions": {\n    "allowSyntheticDefaultImports": true,\n    "esModuleInterop": true,\n    "experimentalDecorators": true,\n    "jsx": "react",\n    "lib": ["es2015", "dom"],\n    "module": "commonjs",\n    "moduleResolution": "node",\n    "outDir": "dist/js",\n    "rootDir": "src",\n    "sourceMap": true,\n    "target": "es5"\n  }\n}',lang:"json"}),a.a.createElement("ol",{start:7},a.a.createElement("li",null,"\u914d\u7f6e ",a.a.createElement("code",null,"webpack.config.js"))),a.a.createElement("p",null,"\u672c\u6b21\u9879\u76ee\u5f00\u53d1\u6d89\u53ca\u4e09\u4e2a\u9875\u9762\uff1apopup.html\uff08\u53c2\u6570\u9762\u677f\uff09\uff0cepicker-ui.html\uff08\u9009\u62e9\u5668\u9762\u677f\uff09\uff0cbackground.html\uff08\u540e\u53f0\uff09\u3002"),a.a.createElement("p",null,"\u914d\u7f6e externals: ","{","vAPI: 'vAPI', cTracker: 'cTracker', chrome: 'chrome',","}"," \u4ee5\u5728\u9879\u76ee\u4e2d\u901a\u8fc7 import \u7684\u65b9\u5f0f\u76f4\u63a5\u4f7f\u7528\u7b2c\u4e09\u65b9 API\u3002"),a.a.createElement("p",null,"\u540c\u65f6\uff0c\u8bb0\u5f97\u9700\u8981\u5728 declares.d.ts \u6587\u4ef6\u4e2d\u914d\u7f6e\uff1adeclare module 'vAPI'; declare module 'cTracker'; declare module 'chrome'; \u4f7f\u4e0d\u4f1a\u62a5 ts \u7684\u5f02\u5e38\u3002"),a.a.createElement(r["a"],{code:"const path = require('path');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst CopyWebpackPlugin = require('copy-webpack-plugin');\nconst { CleanWebpackPlugin } = require('clean-webpack-plugin');\n\nmodule.exports = {\n  devServer: {\n    contentBase: path.resolve(__dirname, './src'),\n    historyApiFallback: true\n  },\n  entry: {\n    popup: path.resolve(__dirname, \"./src/popup/index.tsx\"),\n    'epicker-ui': path.resolve(__dirname, \"./src/epicker-ui/index.tsx\"),\n  },\n  output: {\n    filename: '[name].js',\n    path: path.resolve(__dirname, 'dist')\n  },\n  resolve: {\n    mainFields: ['module', 'main', 'browser'],\n    alias: {\n      root: path.resolve(__dirname),\n      '@': path.resolve(__dirname, 'src'),\n    },\n    extensions: ['.js', '.tsx', '.d.ts', '.ts', '.jsx', '.json', '.css'],\n  },\n  externals: {\n    vAPI: 'vAPI',\n    cTracker: 'cTracker',\n    chrome: 'chrome',\n  },\n  optimization: {\n\t...\n  },\n  module: {\n   ...\n  },\n  plugins: [\n    new HtmlWebpackPlugin({\n      filename: 'popup.html',\n      template: 'src/popup/index.ejs',\n      chunks: ['popup'],\n      jsScripts: [\"js/vapi.js\", \"js/vapi-common.js\", \"js/vapi-client.js\"],\n      inject: 'body'\n    }),\n    new HtmlWebpackPlugin({\n      filename: 'web_accessible_resources/epicker-ui.html',\n      template: 'src/epicker-ui/index.ejs',\n      chunks: ['epicker-ui'],\n      jsScripts: [\"../js/vapi.js\", \"../js/vapi-common.js\", \"../js/vapi-client.js\", \"../js/vapi-client-extra.js\", \"../js/lib/optimal-select.min.js\"],\n      inject: 'body'\n    }),\n    new HtmlWebpackPlugin({\n      filename: 'background.html',\n      template: 'src/background/index.ejs',\n      chunks: ['background'],\n      jsScripts: [\"js/webext.js\", \"js/vapi.js\", \"js/vapi-common.js\", \"js/vapi-background.js\", \"js/background.js\", \"js/cTracker.js\", \"js/messaging.js\", \"js/start.js\"],\n      inject: 'body',\n    }),\n    new CopyWebpackPlugin({\n      patterns: [\n        { from: 'src/manifest.json', to: '[name][ext]' },\n      ]\n    }),\n    new CleanWebpackPlugin()\n    ...\n  ],\n  performance: {\n    hints: false,\n  },\n}",lang:"js"}),a.a.createElement("ol",{start:8},a.a.createElement("li",null,"\u6253\u5305")),a.a.createElement(r["a"],{code:"npm run build",lang:"bash"}),a.a.createElement("p",null,"\u52a0\u8f7d\u5df2\u89e3\u538b\u7684\u6269\u5c55\u7a0b\u5e8f\uff0c\u9009\u62e9 dist \u7684\u6253\u5305\u7ed3\u679c\u3002"),a.a.createElement("h3",{id:"\u8c03\u8bd5-content-scripts"},a.a.createElement(c["AnchorLink"],{to:"#\u8c03\u8bd5-content-scripts","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u8c03\u8bd5 content scripts"),a.a.createElement("p",null,"\u53ef\u4ee5\u5728 ",a.a.createElement("code",null,"source > Content scripts")," \u4e2d\u627e\u5230\u63d2\u4ef6\u7684\u6240\u6709\u7684 ",a.a.createElement("code",null,"Content scripts"),"\uff0c\u4efb\u610f\u6dfb\u52a0\u65ad\u70b9\u8fdb\u884c\u8c03\u8bd5 ",a.a.createElement("code",null,"JS"),"\u3002"),a.a.createElement("p",null,a.a.createElement("img",{src:t("UoiL"),alt:"debug content scripts"})),a.a.createElement("h3",{id:"\u8c03\u8bd5-background"},a.a.createElement(c["AnchorLink"],{to:"#\u8c03\u8bd5-background","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u8c03\u8bd5 Background"),a.a.createElement("p",null,"\u53ef\u4ee5\u5728\u63d2\u4ef6\u754c\u9762\uff0c\u627e\u5230 ",a.a.createElement("strong",null,"background.html")," \u7684\u94fe\u63a5\uff0c\u70b9\u51fb\u4fbf\u53ef\u6253\u5f00\u80cc\u666f\u9875\u7684\u8c03\u8bd5\u63a7\u5236\u53f0\u3002"),a.a.createElement("p",null,a.a.createElement("img",{src:t("K6Iq"),alt:"debug backgound"})),a.a.createElement("h3",{id:"\u8c03\u8bd5-popupjs"},a.a.createElement(c["AnchorLink"],{to:"#\u8c03\u8bd5-popupjs","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u8c03\u8bd5 Popup.js"),a.a.createElement("p",null,"Popup \u4e0e\u666e\u901a\u7684 Web \u8c03\u8bd5\u7c7b\u4f3c\uff0c\u53ef\u4ee5\u5728\u53f3\u51fb ",a.a.createElement("strong",null,"\u5de5\u5177\u680f\u63d2\u4ef6\u56fe\u6807")," \u540e\uff0c\u5728\u5c55\u5f00\u7684\u5185\u5bb9\u4e0a\u9009\u62e9 ",a.a.createElement("strong",null,"\u5ba1\u67e5\u5f39\u51fa\u5185\u5bb9"),"\uff0c\u5373\u53ef\u6253\u5f00 ",a.a.createElement("strong",null,"Popup \u9875\u9762")," \u7684\u8c03\u8bd5\u63a7\u5236\u53f0\u3002"),a.a.createElement("p",null,a.a.createElement("img",{src:t("bYCf"),alt:"debug popup.js"})),a.a.createElement("h1",{id:"\u53c2\u8003"},a.a.createElement(c["AnchorLink"],{to:"#\u53c2\u8003","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u53c2\u8003"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://developer.chrome.com/docs/extensions/reference/"},"\u8c37\u6b4c\u63d2\u4ef6\u6587\u6863")),a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://blog.spoock.com/2016/04/03/chrome-extension-debugging/"},"chrome \u63d2\u4ef6\u8c03\u8bd5\u6280\u5de7")),a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://crxdoc-zh.appspot.com/extensions/messaging"},"https://crxdoc-zh.appspot.com/extensions/messaging")),a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://dev.to/anobjectisa/build-a-chrome-extension-using-reactjs-38o7"},"Build a Chrome Extension Using ReactJS")),a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://medium.com/swlh/how-to-build-a-chrome-extension-with-react-typescript-and-webpack-92e806ce2e16"},"How to Build a Chrome Extension With React, TypeScript, and Webpack")),a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://dev.to/bayardlouis470/create-chrome-extension-in-react-3pna"},"Create Chrome Extension in React")),a.a.createElement("li",null,a.a.createElement(c["Link"],{to:"https://stackoverflow.com/questions/44712495/what-are-the-differences-between-page-action-and-browser-action/44713058"},"What are the differences between page action and browser action")))))}));n["default"]=e=>{var n=a.a.useContext(c["context"]),t=n.demos;return a.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&c["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),a.a.createElement(o,{demos:t})}},aSYH:function(e,n,t){e.exports=t.p+"static/click-option-page.5462994c.png"},bYCf:function(e,n,t){e.exports=t.p+"static/debug-popup.1f6ced9a.png"}}]);