<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>饺子-思维导图</title>
  <style>
    #menu {
      position: fixed;
      top: 0;
      width: 100%;
      background: white;
    }

    #container {
      margin-top: 300px;
    }
  </style>
</head>

<body>
  <div id="menu">
    <h3>菜单：</h3>
    <ul>
      <li>
        <a href="../划重点">to 划重点</a>
      </li>
      <li>
        <a href=".">to 思维导图</a>
      </li>
      <li>
        <a href="../必背题/">to 必背题</a>
      </li>
    </ul>
    <!-- <div>
      <style>
        #tree li {
          cursor: pointer;
        }
      </style>
      <h3>目录：</h3>
      <ul id="tree">
        <li onclick="loadSvg('1','第一章 教育知识与能力概要')">第一章 教育知识与能力概要</li>
        <li onclick="loadSvg('3','第三章 中学教学')">第三章 中学教学</li>
        <li onclick="loadSvg('4','第四章 中学生学习心理')">第四章 中学生学习心理</li>
      </ul>
    </div> -->
  </div>
  <div id="container">
  </div>
  <script>
  </script>
  <script>
    let selected = ``;
    function loadSvg(no, svgName) {
      if (selected !== no) {
        // container.innerHTML = null;
        const iframe = document.createElement('div');
        container.appendChild(iframe);
        xhr = new XMLHttpRequest();
        // https://angelpp52.github.io/blog/%E9%A5%BA%E5%AD%90/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE
        xhr.open("GET", `./${svgName}.svg`, false);
        // Following line is just to be on the safe side;
        // not needed if your server delivers SVG with correct MIME type
        xhr.overrideMimeType("image/svg+xml");
        xhr.onload = function (e) {
          // You might also want to check for xhr.readyState/xhr.status here
          const shadowRoot = iframe.attachShadow({ mode: 'open' });  // ②
          shadowRoot.innerHTML = `
          <h1>${svgName}</h1>
          ${xhr.responseXML.documentElement.outerHTML}
        `;
          const style = document.createElement('style');
          style.textContent = `
          svg[viewBox] svg:last-child {
            display: none;
          }
          h1 {
            text-align: center
          }
        `
          shadowRoot.appendChild(style);
        };
        xhr.send("");
      }
    }
    loadSvg('1', '第一章 教育知识与能力概要');
    loadSvg('3', '第三章 中学教学');
    loadSvg('4', '第四章 中学生学习心理');

  </script>
</body>

</html>