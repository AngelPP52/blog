(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26],{rTDg:function(e,n,t){"use strict";t.r(n);var a=t("ahKI"),l=t.n(a),c=t("s8Wh"),r=t("Fesk"),i=l.a.memo((e=>{e.demos;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"eventemitter\u539f\u7406"},l.a.createElement(c["AnchorLink"],{to:"#eventemitter\u539f\u7406","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"EventEmitter\u539f\u7406"),l.a.createElement("p",null,"[^\u65e5\u671f]: 2020-06-02 22:13:00 [^\u4f5c\u8005]: AngelPP"),l.a.createElement("h2",{id:"\u4e00\u5e38\u7528api"},l.a.createElement(c["AnchorLink"],{to:"#\u4e00\u5e38\u7528api","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u4e00.\u5e38\u7528API"),l.a.createElement("h3",{id:"eventemitterprototypeon"},l.a.createElement(c["AnchorLink"],{to:"#eventemitterprototypeon","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"EventEmitter.prototype.on"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u8ba2\u9605\uff0c\u6bcf\u6b21\u53d1\u5e03\u65f6\u90fd\u4f1a\u8c03\u7528\u56de\u8c03\u51fd\u6570")),l.a.createElement("h3",{id:"eventemitterprototypeonce"},l.a.createElement(c["AnchorLink"],{to:"#eventemitterprototypeonce","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"EventEmitter.prototype.once"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u4ec5\u80fd\u8ba2\u9605\u4e00\u6b21\uff0c\u6bcf\u6b21\u8c03\u7528\u5b8c\u540e\uff0c\u628a\u56de\u8c03\u51fd\u6570\u4ece\u7f13\u5b58\u4e2d\u5220\u6389")),l.a.createElement("h3",{id:"eventemitterprototypeoff"},l.a.createElement(c["AnchorLink"],{to:"#eventemitterprototypeoff","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"EventEmitter.prototype.off"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u53d6\u6d88\u8ba2\u9605\uff0c\u628a\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u4ece\u7f13\u5b58\u4e2d\u5220\u6389")),l.a.createElement("h3",{id:"eventemitterprototypeemit"},l.a.createElement(c["AnchorLink"],{to:"#eventemitterprototypeemit","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"EventEmitter.prototype.emit"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u53d1\u5e03")),l.a.createElement("h3",{id:"eventnewlistener"},l.a.createElement(c["AnchorLink"],{to:"#eventnewlistener","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"Event['newListener']"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u76d1\u542c\u8ba2\u9605\u4e8b\u4ef6\u7684\u53d1\u751f")),l.a.createElement("h3",{id:"\u4ee3\u7801"},l.a.createElement(c["AnchorLink"],{to:"#\u4ee3\u7801","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801"),l.a.createElement("blockquote",null,l.a.createElement(r["a"],{code:"function EventEmitter() {\n    this.events = {}; // \u7f13\u5b58\u8ba2\u9605\u7684\u4e8b\u4ef6\n}\n\n/**on**/\nEventEmitter.prototype.on = function (eventName, callback) {\n    // \u5982\u679c\u8ba2\u9605\u7684\u7c7b\u578b\u4e0d\u662fnewListener\uff0c\u5219\u7acb\u5373\u53d1\u5e03\u4e00\u6b21newListener\u7684\u56de\u8c03\n    if(eventName !== 'newListener'){\n        this.emit('newListener', eventName);\n    }\n\n    // \u5c06\u8ba2\u9605\u7684\u56de\u8c03\u51fd\u6570\u7f13\u5b58\u8d77\u6765\n    (this.events[eventName] || (this.events[eventName] = [])).push(callback);\n}\n\n/**once**/\nEventEmitter.prototype.once = function (eventName, callback) {\n    // \u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u7684\u8ba2\u9605\u56de\u8c03\n    // \u7b2c\u4e00\u6b21\u53d1\u5e03\u65f6\uff0c\u4f1a\u6267\u884cnoce\u56de\u8c03\uff0c\u5e76\u4e14\u628aeventName\u4e0b\u7684callback\u4ece\u7f13\u5b58\u4e2d\u5220\u6389\n    // \u6bcf\u6b21once\u53d1\u5e03\u65f6\uff0c\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4e34\u65f6\u7684\u8ba2\u9605\u56de\u8c03\n    let once = (...args) => {\n        callback(...args);\n        this.off(eventName, callback);\n    }\n    once.listener = callback;\n    this.on(eventName, once);\n}\n\n/**off**/\nEventEmitter.prototype.off = function (eventName, callback) {\n    // cb!==callback\uff1aon\u8ba2\u9605\n    // cb.listener !== callback\uff1aonce\u8ba2\u9605\n    this.events[eventName] = this.events[eventName].filter(cb=>(cb!==callback) && (cb.listener !== callback));\n}\n\n/**emit**/\nEventEmitter.prototype.emit = function (eventName, ...args) {\n    // \u904d\u5386\u7f13\u5b58\uff0c\u5c06\u6240\u6709\u8ba2\u9605\u56de\u8c03\u51fd\u6570\u53d6\u51fa\u6765\u4e00\u4e2a\u4e00\u4e2a\u6267\u884c\n    (this.events[eventName] || []).forEach(cb => {\n        cb(...args);\n    });\n}\n\nmodule.exports = EventEmitter;",lang:"javascript"}))))}));n["default"]=e=>{var n=l.a.useContext(c["context"]),t=n.demos;return l.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&c["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.a.createElement(i,{demos:t})}}}]);